
# B859ï¼šcdist-å¦‚ä½•ä¼°è®¡åäº‹å®çš„åˆ†å¸ƒç‰¹å¾ï¼Ÿ

ä»‹ç» `cdist` å‘½ä»¤çš„ç†è®ºåŸºç¡€å’Œåº”ç”¨ã€‚ 
```stata
ssc install cdist, replace 
ssc install moremata, replace  // éœ€è¦åˆ©ç”¨è¯¥ç¨‹åºåŒ…æä¾›çš„å‡½æ•°
net get cdist.pkg, replace //ä½œè€…æä¾›çš„è¾…åŠ©èµ„æ–™
```

`cdist` estimates counterfactual distributions using methods suggested by Chernozhukov et al. (2013). The unconditional (counterfactual) distributions are either obtained by distribution regression using `logit` models or by a linear quantile regression process (using `mm_qr()` from the `moremata` package).

For an alternative implementation of these (and related) methods see package [counterfactual](https://raw.githubusercontent.com/bmelly/Stata/main/) by Blaise Melly (type the following command:
```stata
net from https://raw.githubusercontent.com/bmelly/Stata/main/
```
the package also includes commands `cdeco` and `cdeco_jmp` to perform counterfactual decompositions).

## References

- Chernozhukov, Victor, IvÃ¡n FernÃ¡ndez-Val, Blaise Melly. 2013. Inference on Counterfactual Distributions. Econometrica 81(6):2205â€“2268.
- Chernozhukov, Victor, IvÃ¡n FernÃ¡ndez-Val, Blaise Melly. 2022. Fast algorithms for the quantile regression process. Empirical Economics 62(1):7â€“33.
- Juhn, Chinhui, Kevin M. Murphy, Brooks Pierce. 1993. Wage Inequality and the Rise in Returns to Skill. Journal of Political Economy 101(3):410-442.
- Portnoy, Stephen, Roger Koenker. 1997. The Gaussian hare and the Laplacian tortoise: computability of squared-error versus absolute-error estimators. Statistical Science 12(4):279-300.


# B858ï¼šæ•°æ®é‡å¤§æ—¶ï¼Œå•¥å•¥éƒ½æ˜¾è‘—

ç¿»è¯‘ï¼Œå¹¶é€‚å½“çš„è°ƒæ•´æˆ–æ·»åŠ å†…å®¹ã€‚ä¸€å®šè¦å†™å‡ºå®Œæ•´çš„å‚è€ƒèµ„æ–™å‡ºå¤„ï¼Œä»¥å…å¼•èµ·ç‰ˆæƒçº çº·ã€‚æ¨æ–‡çš„é¢˜ç›®å¯ä»¥æ ¹æ®ä½ çš„ç†è§£æ¥æ‹Ÿå®šï¼Œæœ€å¥½èƒ½æœ‰ä¸€å®šçš„å¸å¼•åŠ›ã€‚

- Dave Giles, 2019, Blog, [Everything's Significant When You Have Lots of Data](https://davegiles.blogspot.com/2019/10/everythings-significant-when-you-have.html#more)


# B857ï¼šä»‹ç» Local-DID æ¨¡å‹

> [github-lpdid](https://github.com/friosavila/lpdid)

- Markdown æ–‡æ¡£ç”Ÿæˆå»ºè®®ï¼š
  - å¤åˆ¶ç½‘é¡µå†…å®¹ &rarr; è´´å…¥ Typora ç¼–è¾‘å™¨ï¼ŒæŒ‰ **Ctrl+/** å³å¯å‘ˆç° Markdown æ–‡æœ¬ã€‚
  - æ•°å­¦å…¬å¼ï¼šå¯ä»¥ç”¨ [simpletex](https://simpletex.cn/) è½¯ä»¶æ‰«æè·å–ã€‚

## ç®€ä»‹ LP-DiD

- Dube, A., D. Girardi, O. Jorda, A. M. Taylor, **2023**, A local projections approach to difference-in-differences event studies. [PDF](https://www.frbsf.org/wp-content/uploads/sites/4/wp2023-12.pdf), [Replication](https://github.com/danielegirardi/lpdid), [-cited-](https://scholar.google.com/scholar?cites=2002525239519188943&as_sdt=2005&sciodt=0,5&hl=zh-CN)

Dube, Girardi, Jorda' and Taylor (2023) propose a local projections approach to difference-in-differences event studies - LP-DiD.

This repository contains two STATA do files that implement the LP-DiD estimator in simulated datasets. 

Both examples illustrate the case of binary, staggered and absorbing treatment, when only not yet treated units are used as controls. 

- `LP_DiD_examplefile.do` uses a simulated dataset similar to the Montecarlo simulations presented in Dube, Girardi, Jorda' and Taylor (2023). 

- `lpdid_test.do` applies LP-DiD in a simulated dataset from Borusyak (2021).



# B856ï¼šStata å¯è§†åŒ–ï¼šrobbox-å¼ºå¤§çš„çš„ç®±å‹å›¾å‘½ä»¤ - å¿«é€Ÿå‘ˆç°ç¦»ç¾¤å€¼

å†™ä¸€ç¯‡æ¨æ–‡ä»‹ç» `robbox` å‘½ä»¤ã€‚å¸®åŠ©æ–‡ä»¶ä¸­æä¾›äº†å¤§é‡çš„ä¾‹å­ã€‚

å‚è€ƒæ–‡çŒ®ï¼š
- Jann, B., V. Verardi, C. Vermandele (2019). robbox: Stata module to compute generalized box plots. [-Link-](http://ideas.repec.org/c/boc/bocode/s458620.html)
- Bruffaerts, C., V. Verardi, and C. Vermandele. 2014. A generalized boxplot for skewed and heavy-tailed distributions. Statistics and Probability Letters 95: 110-117.
- Hubert, M., and E. Vandervieren. 2008. An adjusted boxplot for skewed distributions. Computational Statistics and Data Analysis 52: 5186-5201.


# B855ï¼šä»‹ç» I4R æœºæ„å’Œç½‘ç«™

- The Institute for Replication (I4R):<https://www.i4replication.org/index.html>

æçº²ï¼š
1. I4R ç®€ä»‹
2. è®ºæ–‡å¤ç°çš„æ–°è¶‹åŠ¿ï¼šI4R æ˜¯å¦‚ä½•åšçš„ - æä¾›æ¨¡æ¿ï¼›å¤§è§„æ¨¡å¤ç°ï¼›è®¾ç½®æ¯”èµ›ï¼›ä¸æœŸåˆŠåˆä½œè¿›è¡Œè®ºæ–‡å¤ç°
3. åœ¨ [publishing](https://www.i4replication.org/publishing.html) å•å…ƒä»‹ç»äº†å¾ˆå¤šèµ„æº
4. å·¥ä½œè®ºæ–‡ï¼Œæ¯å¹´ä¸€ç™¾å¤šç¯‡å¤ç°æ€§è´¨çš„è®ºæ–‡ã€‚æœ‰åŠ©äºæˆ‘ä»¬äº†è§£å¦‚ä½•åšå¤ç°ç±»è®ºæ–‡ï¼›å¦‚ä½•é€šè¿‡å¤ç°æé«˜è‡ªå·±çš„ç ”ç©¶èƒ½åŠ›
  - https://ideas.repec.org/s/zbw/i4rdps.html



# B854ï¼šçŸ¥ä¹çƒ­è®®ï¼šä¸ºä»€ä¹ˆå›½å†…åšå£«æ¯•ä¸šçš„ paper æ™®éæ¯”å›½å¤–åšå£«å¤šï¼Ÿ

[ä¸ºä»€ä¹ˆæˆ‘æ„Ÿè§‰å›½å†…åšå£«æ¯•ä¸šæ‰‹é‡Œçš„ paper æ™®éæ¯”å›½å¤–åšå£«å¤šï¼Ÿ](https://www.zhihu.com/question/457963341)

å‚è€ƒè¿äº«ä¼šå¾€æœŸçŸ¥ä¹çƒ­è®®ä¸“é¢˜æ¨æ–‡çš„å†™æ³•ï¼šStata å‘½ä»¤ `lianxh çŸ¥ä¹`

- [çŸ¥ä¹çƒ­è®®ï¼šè¯»ç»æµå­¦åšå£«ï¼ˆPhDï¼‰çš„æ„Ÿå—å¦‚ä½•](https://www.lianxh.cn/news/18c08522e5ea3.html)
- [çŸ¥ä¹çƒ­è®®ï¼šå­¦ç»æµå­¦ä»¥åèƒ½å¹²ä»€ä¹ˆï¼Ÿ](https://www.lianxh.cn/news/b2ff2752d4f6e.html)
- [çŸ¥ä¹çƒ­è®®ï¼šåšå­¦æœ¯éœ€è¦ææ¸…æ¥šè®¡é‡ç»æµå­¦é‡Œå…¨éƒ¨çš„æ•°å­¦åŸç†å—ï¼Ÿ](https://www.lianxh.cn/news/f8b0dbe406fcc.html)
- [çŸ¥ä¹çƒ­è®®ï¼šå¯¹ PhD ä¸€å¹´çº§æ–°ç”Ÿæœ‰ä»€ä¹ˆå»ºè®®ï¼Ÿ](https://www.lianxh.cn/news/da7f1c2b5cda5.html)
- [çŸ¥ä¹çƒ­è®®ï¼šä½ è§è¿‡æœ€çƒ‚çš„ä»£ç é•¿ä»€ä¹ˆæ ·å­ï¼Ÿ](https://www.lianxh.cn/news/c825de3f13fad.html)
- [çŸ¥ä¹çƒ­è®®ï¼šå‘ Top 5 å’Œ Field Top æ˜¯ä»€ä¹ˆæ„Ÿè§‰ï¼Ÿ](https://www.lianxh.cn/news/f7dd39f31a14a.html)
- [çŸ¥ä¹çƒ­è®®ï¼šæ€æ ·æŸ¥å…¨ä¸€ä¸ªæ–¹å‘çš„æ–‡çŒ®ï¼Ÿ](https://www.lianxh.cn/news/30dfd5590a695.html)
- [çŸ¥ä¹çƒ­è®®ï¼šå¦‚ä½•æœåˆ°ä¸“ä¸šæ•°æ®å’Œè¡Œä¸šæŠ¥å‘Š](https://www.lianxh.cn/news/bf317876816f1.html)


# B852ï¼šmmqreg: quantile regressions via Method of Moments

> Method of Moments Quantile Regression (MMQR) with fixed effects

`mmqreg` estimates quantile regressions using the method of moments as described in Machado and Santos Silva (2019, **JoE**), and expanding the methodology to allow for multiple fixed effects.

In contrast with `xtqreg`, `mmqreg` adds three features to the estimation of this type of models:
1. It allows the estimation of the Location-Scale quantile regressions when there are no fixed effects.
2. Using the command `hdfe` it allows the estimation of LS quantile regression absorbing multiple fix effects
3. It reports the estimation of various quantiles jointly, which facilitates testing of coefficients across quantiles, using **resampling methods** like Bootstrap. (see bootstrap), or based on analytical standard errors.

Also, in contrast with `xtqreg`, standard errors for quantiles, location, and scale effects, can be estimated adjusting for the degrees of freedom.

Furthermore, because this is a GMM estimator, `mmqreg` also provides 3 options for standard errors, the default which is the same as `xtqreg`, robust standard errors, and clustered standard errors.

- å‚è€ƒèµ„æ–™
- Machado, J.A.F. and Santos Silva, J.M.C. (2019), Quantiles via Moments, Journal of Econometrics, 213(1), pp. 145-173.
- Rios-Avila, Fernando (2020), Extending Quantile regressions via Method of Moments using multiple fixed effects. MIMEO
 
## å®‰è£…
```stata
. ssc install hdfe, replace 
. ssc install ftools, replace 

. ssc install mmqreg, replace 
. net get mmqreg.pkg, replace  // ä½œè€…æä¾›çš„èŒƒä¾‹æ•°æ®
```

# B851ï¼šç¿»è¯‘ï¼šå¼‚æ–¹å·®ç¨³å¥æ€§æ ‡å‡†è¯¯ï¼šå®æ“å»ºè®®

Enrique Pinzon, 2022, Heteroskedasticity robust standard errors: Some practical considerations. [-Link-](https://blog.stata.com/2022/10/06/heteroskedasticity-robust-standard-errors-some-practical-considerations/)




# B850ï¼šé‡‘èåœˆè¡Œè¯æš—è¯­å¤§ç›˜ç‚¹

æ”¶é›†ç½‘ä¸Šçš„èµ„æ–™ï¼Œå†™ç¯‡æ¨æ–‡ã€‚æœ€å¥½èƒ½æœ‰ç‚¹è¶£å‘³ï¼Œä½†åˆä¸ç¼ºå°‘çŸ¥è¯†æ€§ã€‚æ¯”å¦‚ï¼Œå¦‚ä¸‹èµ„æ–™å¯ä»¥ä½œä¸ºæ¥æºçš„ä¸€éƒ¨åˆ†ï¼š
- [æ‹’åšé‡‘èå°ç™½ï¼Œä¸€äº›â€œè¡Œè¯â€å°ç§‘æ™®ï¼ˆä¸Šï¼‰](https://zhuanlan.zhihu.com/p/103692672)
- [é‡‘èé£æ§â€œè¡Œè¯â€ï¼Œä¸€æ–‡æŒæ¡é‡‘èé£æ§ä¸“ä¸šæœ¯è¯­](https://zhuanlan.zhihu.com/p/347740212)
- [é‡‘èè¡Œä¸šçš„æš—è¯­æœ‰å“ªäº›ï¼Ÿ](https://www.zhihu.com/question/65374298)
- [å¸¸åœ¨é‡‘èåœˆæ··ï¼Œä¸æ‡‚ç‚¹â€œé»‘è¯â€æ€ä¹ˆè¡Œâ€”â€”é‡‘èè¡Œè¯ç›˜ç‚¹](https://zhuanlan.zhihu.com/p/136020595)
- [ä¸€å®¡ã€äºŒå®¡ã€ä¸‰å®¡ã€æªæ¯™](https://www.zhihu.com/question/19635215/answer/135213405)
- [ä½ æ‰€çŸ¥é“çš„è¡Œä¸šé»‘è¯æœ‰å“ªäº›ï¼Ÿ - è´¢æŸ’çš„å›ç­” - çŸ¥ä¹](https://www.zhihu.com/question/19635215/answer/173503200)
- [ç›˜ç‚¹ï¼šç§‘ç ”æ´¾â€œé»‘è¯â€](https://zhuanlan.zhihu.com/p/64097739)
[æœ‰å“ªäº›ç§‘ç ”åœˆçš„é€šç”¨è¡Œè¯ï¼Ÿ](https://www.zhihu.com/question/386652986)



# B849-Stata ç»˜å›¾ï¼šviolinplot-å°æç´å›¾

```stata
net describe http://repec.org/bocode/v/violinplot
ssc install violinplot, replace all 

* violinplot requires dstat, moremata, palettes, and colrspace. 
* To install these packages, type:

  ssc install dstat
  ssc install moremata
  ssc install palettes
  ssc install colrspace
```

ä½œè€…è¿˜æä¾›äº†ä¸€ä¸ª zip æ–‡ä»¶ï¼Œæ‰§è¡Œ `ssc install violinplot, replace all ` å‘½ä»¤åä¼šè‡ªåŠ¨ä¸‹è½½åˆ°å½“å‰å·¥ä½œè·¯å¾„ä¸‹ã€‚å¯ä»¥ä½œä¸ºæ¨æ–‡çš„ç´ æã€‚

# B848ï¼šMCF: Modified Causal Forest 

- Python: `mcf`, [website](https://mcfpy.github.io/mcf/getting_started.html)
- Bodory H, Mascolo F, Lechner M (2024).Â **Enabling Decision Making with the Modified Causal Forest: Policy Trees for Treatment Assignment**.Â *Algorithms*. 17(7):318.Â [Read Paper](https://doi.org/10.3390/a17070318)


# B847ï¼šRè¯­è¨€-aggTrees åŒ…

Di Francesco, R. (2024). Aggregation Trees (Version 1). arXiv. [Link](https://doi.org/10.48550/arXiv.2410.11408) (rep), [PDF](https://arxiv.org/pdf/2410.11408.pdf), [Google](<https://scholar.google.com/scholar?q=Aggregation Trees (Version 1)>).

- R package: `aggTrees`
- website: [Aggregation Trees](https://riccardo-df.github.io/aggTrees/)
  - [æ•™ç¨‹](https://riccardo-df.github.io/aggTrees/articles/aggTrees-vignette.html)
- `aggTrees`Â is an R package forÂ *aggregation trees*, a nonparametric approach designed to discover heterogeneous subgroups in a selection-on-observables framework. This method helps researchers assess treatment effect heterogeneity by constructing a hierarchical sequence of optimal groupings, enabling estimation and inference of the group average treatment effects at different levels of granularity.




# B846ï¼šè®ºæ–‡æ¨ä»‹å’Œå¤ç°

Baiardi, A., & Naghi, A. A. (2024). The value added of machine learning to causal inference: evidence from revisited studies. The Econometrics Journal, 27(2), 213â€“234. [Link](https://doi.org/10.1093/ectj/utae004), [PDF](http://sci-hub.ren/10.1093/ectj/utae004), [Google](<https://scholar.google.com/scholar?q=The value added of machine learning to causal inference: evidence from revisited studies>).

# B845ï¼šè®ºæ–‡æ¨ä»‹

Bruns, M., & Piffer, M. (2024). Tractable Bayesian estimation of smooth transition vector autoregressive models. The Econometrics Journal, 27(3), 343â€“361. [Link](https://doi.org/10.1093/ectj/utae009), [PDF](http://sci-hub.ren/10.1093/ectj/utae009), [Google](<https://scholar.google.com/scholar?q=Tractable Bayesian estimation of smooth transition vector autoregressive models>).

# B844ï¼šè®ºæ–‡æ¨ä»‹

- Arkhangelsky, D., & Imbens, G. (2024). Causal models for longitudinal and panel data: a survey. The Econometrics Journal, 27(3), C1â€“C61. [Link](https://doi.org/10.1093/ectj/utae014), [PDF](http://sci-hub.ren/10.1093/ectj/utae014), [Google](<https://scholar.google.com/scholar?q=Causal models for longitudinal and panel data: a survey>).

# B843ï¼šè®ºæ–‡æ¨ä»‹

Fuhr, J., & Papies, D. (2024). Double Machine Learning meets Panel Data -- Promises, Pitfalls, and Potential Solutions (Version 1). arXiv. [Link](https://doi.org/10.48550/arXiv.2409.01266) (rep), [PDF](https://arxiv.org/pdf/2409.01266.pdf), [Google](<https://scholar.google.com/scholar?q=Double Machine Learning meets Panel Data -- Promises, Pitfalls, and Potential Solutions (Version 1)>).

# B842ï¼šMCMCç®€ä»‹

ç¿»è¯‘å¹¶é€‚å½“çš„è°ƒæ•´æˆ–æ·»åŠ å†…å®¹ã€‚ä¸€å®šè¦å†™å‡ºå®Œæ•´çš„å‚è€ƒèµ„æ–™å‡ºå¤„ï¼Œä»¥å…å¼•èµ·ç‰ˆæƒçº çº·ã€‚æ¨æ–‡çš„é¢˜ç›®å¯ä»¥æ ¹æ®ä½ çš„ç†è§£æ¥æ‹Ÿå®šï¼Œæœ€å¥½èƒ½æœ‰ä¸€å®šçš„å¸å¼•åŠ›ã€‚

- [Markov Chain Monte Carlo](https://roomno308.github.io/blog/MCMC.html), [.ipynb](https://github.com/roomno308/roomno308.github.io/blob/main/blog/MCMC.md) (å¯ä»¥ Fork è¿™ä¸ªä»“åº“åï¼Œä¸‹è½½åŸå§‹ .ipynb æ–‡ä»¶ï¼Œç„¶åè¿›è¡Œæ„è¯‘ã€‚æ³¨æ„ï¼šå›¾ç‰‡éœ€è¦ä¸Šä¼ åˆ°è¿äº«ä¼šå›¾åºŠä¸­ã€‚)


## å…¶å®ƒå‚è€ƒèµ„æ–™
- Brian Keng, 2015, Blog. Markov Chain Monte Carlo Methods, Rejection Sampling and the Metropolis-Hastings Algorithm. [Link](https://bjlkeng.io/posts/markov-chain-monte-carlo-mcmc-and-the-metropolis-hastings-algorithm/), [Source](https://bjlkeng.io/posts/markov-chain-monte-carlo-mcmc-and-the-metropolis-hastings-algorithm/index.ipynb)

- [Understanding the basics of Markov Chain Monte Carlo (MCMC) Methods](https://sarowarahmed.medium.com/understanding-the-basics-of-markov-chain-monte-carlo-mcmc-methods-495c257e9ebc)

- [Wikipedia - Markov chain Monte Carlo](https://en.wikipedia.org/wiki/Markov_chain_Monte_Carlo)
- [Mastering Markov Chain Monte Carlo Methods: A Complete Introduction to MCMC in Machine Learning](https://www.numberanalytics.com/blog/mastering-mcmc-methods)
- [Writing a simple Monte Carlo Markov Chain code](https://carlessanchezalonso.github.io/2020/mcmc/)
- [A Gentle Introduction to Markov Chain Monte Carlo (MCMC)](https://theclevermachine.wordpress.com/2012/11/19/a-gentle-introduction-to-markov-chain-monte-carlo-mcmc/)









# B841ï¼šè®ºæ–‡æ¨ä»‹ï¼šæœºå™¨å­¦ä¹ æ–¹æ³•æ¯”è¾ƒ

- Lechner, M., & Mareckova, J. (2025). Comprehensive Causal Machine Learning (Version 2). arXiv. [Link](https://doi.org/10.48550/arXiv.2405.10198) (rep), [PDF](https://arxiv.org/pdf/2405.10198.pdf), [Google](<https://scholar.google.com/scholar?q=Comprehensive Causal Machine Learning (Version 2)>).

  - Uncovering causal effects in multiple treatment setting at various levels of granularity provides substantial value to decision makers. Comprehensive machine learning approaches to causal effect estimation allow to use a single causal machine learning approach for estimation and inference of causal mean effects for all levels of granularity. Focusing on selection-on-observables, this paper compares three such approaches, the modified causal forest (MCF), the generalized random forest (GRF), and double machine learning (DML). It also compares the theoretical properties of the approaches and provides proven theoretical guarantees for the mcf. The findings indicate that dml-based methods excel for average treatment effects at the population level (ATE) and group level (GATE) with few groups, when selection into treatment is not too strong. However, for finer causal heterogeneity, explicitly outcome-centred forest-based approaches are superior. The mcf has three additional benefits: (i) It is the most robust estimator in cases when dml-based approaches underperform because of substantial selection into treatment; (ii) it is the best estimator for GATEs when the number of groups gets larger; and (iii), it is the only estimator that is internally consistent, in the sense that low-dimensional causal ATEs and GATEs are obtained as aggregates of finer-grained causal parameters.
  - The practical use of these three CCMLs is supported by the availability of well-maintained software packages: $d m l$ is available as Python and R packages, the $g r f$ is available as an $R$ package, and the $m c f$ is available as a Python package.
    - As examples can serve: Bach, Chernozhukov, Kurz, and Spindler (2022), Bach, Kurz, et al. (2024), and Knaus (2022) for dml; Athey and Wager (2019) for grf; and Bodory et al. (2022) for mcf. The R packages can be downloaded from CRAN. The Python packages are available on PyPI.

## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)

# B840ï¼šè®ºæ–‡æ¨ä»‹ï¼šML ä¸­ä»‹æ•ˆåº”

- Lechner M, Bearth N (2025).Â **Causal Machine Learning for Moderation Effects**.Â [Read Paper](https://arxiv.org/abs/2401.08290), Journal of Business & Economic Statistics, acceptted
  - Bearth, N., & Lechner, M. (2025). Causal Machine Learning for Moderation Effects. arXiv. [Link](https://doi.org/10.48550/arXiv.2401.08290) (rep), [PDF](https://arxiv.org/pdf/2401.08290.pdf), [Google](<https://scholar.google.com/scholar?q=Causal Machine Learning for Moderation Effects (Version 3)>). Journal of Business & Economic Statistics, forthcoming.

## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)

# B839ï¼šè®ºæ–‡æ¨ä»‹ï¼šå›ºå®šæ•ˆåº”ä¸æ··æ·†å˜é‡é—®é¢˜

Burkhardt, J., & Hill, A. E. (2024). Bias Induced by Fixed Effects in the Presence of Collider Variables. [Link](https://doi.org/10.2139/ssrn.5011080), [-PDF-](https://download.ssrn.com/2024/11/5/5011080.pdf?response-content-disposition=inline&X-Amz-Security-Token=IQoJb3JpZ2luX2VjEBIaCXVzLWVhc3QtMSJIMEYCIQC41XE2oH%2ByrDNbVpCvvMNLSzRbBaTTWId0SQoUiQf41wIhAPCC%2BYunh4AY0CMqr0Gu5F6L41tzADPm7hD8tFf%2F6poLKsUFCPv%2F%2F%2F%2F%2F%2F%2F%2F%2F%2FwEQBBoMMzA4NDc1MzAxMjU3IgwU6Lu7hdJZxMQ8Cr8qmQXMJkzFzwSJcBncqaaQ9y6CdO5s37n3edqDnSt0II3bs8LpgehsH0%2FFvcNyOQHqg2%2FoBBX9ujjH9juiAZGAouljcfJIDhso4uRjFmo7%2B3NLq9US7q4FXoee95SVIXEGFmR351tniVPjudql1Cz3vw7NpBX4J6%2BqBfHomKcJsKVQ8mfU%2FVoB2592zGuCq6GjIl3AfjvyJZpcnAkwuVojCxiv7A2BUgZSJKFBfIFs6uYVyGP5c7mx09WGXboc1xGV0paZo92%2BfV4FVbC%2BsopOTesxafE%2BXR2Tgu2N9TAmzhB%2BDFS4a7j06Qyetf%2FBOhgiw%2FQh6MqRKsyRkU99JVJscHPUub%2BlaCtFimlyhlTIjPOmahoe6Tc%2BH3S0L3e9gbfkN9faxwtUvRycIsKiP3q0haA40pl8NKfaS1EQZ3OTdF09nRWayQRITk5T3NQhvJv2CidCI5RgOhSIJOaDPWzW9S5%2BJHp8SDU9oWNpSZP3E38jGJEjmhcfN1h%2Flm%2FvzhFp5uhpVhZtFuhqdvRveFElzozW61tLDYi7%2BKbraQLKYkoPvZYmVMAP%2BMh%2FSvCHhBA7CUm%2BFIvwFNth8a3S5jR23M1pNIYxX4wWKitm9sDY3SNZHmF6HkOsDqZ9RJLQ6IXxjN0tgLFDYBGOU0QvgppYZSdZArLVWsZoT1Hl30edoGJO0jL5Y6fC6LSNEMw96u%2Bb9OIvEWVE9FAWk%2F3ekQ%2Bi5hNFN1OPds8SRpPlLxA1ineln%2FDYWYGf43tPEFNIljb7qW3G8s0%2BjpBG0lEvhY4WGbIUK90DtY2NEQnIr2XMqVcNua9V29b9Y8vqQDO1esdNuYoIzjbaFR%2Bwkeaz%2FTpgDd2mPIol0cqY5XV5SaOVejjw3bDpsR8RZpvYDzDt3eLCBjqwAd4IoMWsCSSjrg6vWQgmXJ7YLxQcv6ly6fGUnjkBDpDjn0j0lZEbCnsNl7ke7xDQIDp6kcxsLeug8HQL3B1%2F8ddcy0B%2F%2B%2BIXSHyjLEuMqiGym37U0%2BkDR0lcIt3eLWdEknalw6IrEv%2FbNrY%2FVAv%2BmxnWjkPG%2BM5dyKK2d4VgQ1KnRzn3oGOZmg8oHSLxjiO9cxmu%2F7iniBvw%2Fj298LCkPXGgJZlaEuSBpL9vmGuNE5CC&X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Date=20250623T015922Z&X-Amz-SignedHeaders=host&X-Amz-Expires=300&X-Amz-Credential=ASIAUPUUPRWERVLZGAA6%2F20250623%2Fus-east-1%2Fs3%2Faws4_request&X-Amz-Signature=7f7607170a2247ba3a5e16a7a9fb3462b7bfe6af9b71f4b04e0fe00563823cd0&abstractId=5011080), [Google](<https://scholar.google.com/scholar?q=>).
- ä½œè€…åœ¨ PDF è®ºæ–‡çš„æ–‡æœ«é™„ä¸Šäº† R codesï¼Œå¯ä»¥ä½œä¸ºæ¨æ–‡çš„ç´ æã€‚å¦‚æœä½ å¯¹ Stata æˆ– Python æ¯”è¾ƒç†Ÿæ‚‰ï¼Œå¯ä»¥å€ŸåŠ© AI æŠŠä½œè€…æä¾›çš„ R codes è½¬æ¢ä¸º Stata æˆ– Python ä»£ç ã€‚

- Abstract: This paper examines the bias introduced in fixed effects estimators when a collider variable influenced by both the explanatory variable and the outcome is absorbed by the fixed effects. We derive an expression for the bias as a function of the within-group and between-group variances of the collider variable and the strength of the induced correlation caused by the collider. The analysis reveals that lower within-group variance or higher between-group variance of the collider amplifies the bias by inducing a stronger correlation between the explanatory variable and the error term. We discuss the implications for empirical research, cautioning against the indiscriminate use of fixed effects and emphasizing the need for careful model specification to mitigate collider bias.
- Keywords: fixed effects, collider variables, endogenous control.

## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)


# B838ï¼šè®ºæ–‡æ¨ä»‹ï¼šæ§åˆ¶å˜é‡é—®é¢˜

HÃ¼nermund, P., & Louw, B. (2023). On the Nuisance of Control Variables in Causal Regression Analysis. Organizational Research Methods, 28(1), 138â€“151. [Link](https://doi.org/10.1177/10944281231219274), [PDF](https://journals.sagepub.com/doi/epdf/10.1177/10944281231219274), [Google](<https://scholar.google.com/scholar?q=On the Nuisance of Control Variables in Causal Regression Analysis>).

## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)

# B837ï¼šç¿»è¯‘ + é€‚å½“ä¿®æ”¹å’Œç²¾ç®€ï¼šæ··æ·†å˜é‡é—®é¢˜
Frake, J., Hagemann, A., & Uribe, J. (2024). Collider bias in strategy and management research: An illustration using women CEOâ€™s effect on other womenâ€™s career outcomes. Strategic Management Journal, 45(7), 1393â€“1419. Portico. [Link](https://doi.org/10.1002/smj.3588), [PDF](https://sms.onlinelibrary.wiley.com/doi/epdf/10.1002/smj.3588), [Google](<https://scholar.google.com/scholar?q=Collider bias in strategy and management research: An illustration using women CEOâ€™s effect on other womenâ€™s career outcomes. Strategic Management Journal, 45(7), 1393â€“1419>).

## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)


# B836ï¼šç¿»è¯‘+é€‚å½“ä¿®æ”¹ï¼šIVDMLåŒ…

- <https://github.com/cyrillsch/IVDML>
  - Note: ä½ å¯ä»¥ Fork è¿™ä¸ªä»“åº“ï¼Œç„¶åå°±å¯ä»¥åœ¨è‡ªå·±çš„è´¦å·ä¸‹æ‰“å¼€ç¼–è¾‘æ¨¡å¼ï¼Œçœ‹åˆ°åŸå§‹ Markdown æ–‡æ¡£å¹¶è¿›è¡Œç¿»è¯‘å’Œç¼–è¾‘äº†ã€‚ 

## ç®€ä»‹

The IVDML package implements an instrumental variable (IV) estimator for potentially heterogeneous treatment effects in the presence of endogeneity as presented in Scheidegger, Guo and BÃ¼hlmann (2025). The estimator is based on double/debiased machine learning (DML) (Chernozhukov et al., 2018) and uses efficient machine learning instruments (MLIV) and kernel smoothing.

We assume that we observe $N$ i.i.d. copies of the model $Y_i=\beta\left(A_i\right) D_i+g\left(X_i\right)+\epsilon_i . Y_i$ is the response variable and $D_i$ is the treatment variable. $X_i$ are the observed covariates and $A_i$ is a univariate continuous covariate with respect to which we want to consider heterogeneity (usually $A_i$ is a component of $X_i$ ). $\epsilon_i$ is an error term that satisfies $E\left[\epsilon_i \mid X_i\right]=0$, but we have endogeneity, meaning that $E\left[\epsilon_i \mid D_i, X_i\right] \neq 0$. To deal with the endogeneity, we assume that we have access to an instrumental variable $Z_i$ that satisfies $E\left[\epsilon_i \mid Z_i, X_i\right]=0$. To goal is to conduct inference on the heterogeneous treatment effect $\beta(a)$ for some specific value $a$ of $A_i$.

We quickly describe the main idea of our estimator. Assume for a moment that the treatment effect $\beta(\cdot)=\beta$ is constant (i.e. does not depend on $A_i$ ). Then, $\beta$ is identified via $\beta=\frac{E\left[\left(Y_i-E\left[Y_i \mid X_i\right]\right)\left(E\left[D_i \mid Z_i, X_i\right]-E\left[D_i \mid X_i\right]\right)\right]}{E\left[\left(D_i-E\left[D_i \mid X_i\right]\right)\left(E\left[D_i \mid Z_i, X_i\right]-E\left[D_i \mid X_i\right]\right)\right]}$. Hence, an estimate $\hat{\beta}$ of $\beta$ can be obtained by estimating the so-called nuisance functions $f\left(Z_i, X_i\right)=E\left[D_i \mid Z_i, X_i\right]$, $\phi\left(X_i\right)=E\left[D_i \mid X_i\right]$ and $l\left(X_i\right)=E\left[Y_i \mid X_i\right]$ using arbitrary user-chosen machine-learning and calculating a sample version of the identification given above. In practice, this is done using a cross-fitting scheme (Chernozhukov et al. 2018).

If we allow for the treatment effect $\beta(\cdot)$ to depend on the univariate continuous quantity $A_i$, and $A_i$ is a component of $X_i$, we can make the identification $\beta(a)=\frac{E\left[\left(Y_i-E\left[Y_i \mid X_i\right]\right)\left(E\left[D_i \mid Z_i, X_i\right]-E\left[D_i \mid X_i\right]\right) \mid A_i=a\right]}{E\left[\left(D_i-E\left[D_i \mid X_i\right]\right)\left(E\left[D_i \mid Z_i, X_i\right]-E\left[D_i \mid X_i\right]\right) \mid A_i=a\right]}$. conditional on $A_i=a$. In the sample version, we then use a kernel function $K(\cdot)$ (for example the Gaussian kernel $K(t)=\exp \left(-t^2 / 2\right) / \sqrt{2 \pi}$ ) to estimate the conditional expectations given $A_i=a$.

For a detailed discussion of the method, we refer to Scheidegger, Guo and BÃ¼hlmann (2025). We now demonstrate, how the IVDML package is used in practice.

## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)

# B835ï¼šRPIVï¼šå…¨æ–°å·¥å…·å˜é‡æ£€éªŒæ–¹æ³•

Scheidegger, C., Londschien, M., & BÃ¼hlmann, P. (2025). A Residual Prediction Test for the Well-Specification of Linear Instrumental Variable Models (Version 1). arXiv. [Link](https://doi.org/10.48550/arXiv.2506.12771) (rep), [PDF](https://arxiv.org/pdf/2506.12771.pdf), [Google](<https://scholar.google.com/scholar?q=A Residual Prediction Test for the Well-Specification of Linear Instrumental Variable Models (Version 1)>). [R codes](https://github.com/cyrillsch/RPIV_Application)

å®æ“ä»£ç ï¼š

- [RPIV - R codes](https://github.com/cyrillsch/RPIV)
  - [RPIV Application](https://github.com/cyrillsch/RPIV_Application)

æ‘˜è¦ï¼š

- The linear instrumental variable (IV) model is widely applied in observational studies. The corresponding assumptions are critical for valid causal inference, and hence, it is important to have tools to assess the model's well-specification. The classical Sargan-Hansen J-test is limited to the overidentified setting, where the number of instruments is larger than the number of endogenous variables. Here, we propose a novel and simple test for the well-specification of the linear IV model under the assumption that the structural error is mean independent of the instruments. Importantly, assuming mean independence allows the construction of such a test even in the just-identified setting. We use the idea of residual prediction tests: if the residuals from two-stage least squares can be predicted from the instruments better than randomly, this signals misspecification. We construct a test statistic based on sample splitting and a user-chosen machine learning method. We show asymptotic type I error control. Furthermore, by relying on machine learning tools, our test has good power for detecting alternatives from a broad class of scenarios. We also address heteroskedasticity- and cluster-robust inference. The test is implemented in the R package `RPIV` and in the `ivmodels` software package for Python.
- Implementations of our test can be found in the R package `RPIV`, available at <https://github.com/cyrillsch/RPIV>, and as part of the `ivmodels` software package for Python (Londschien and BÃ¼hlmann, 2024), available at <https://github.com/mlondschien/ivmodels>.

## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)


# B834ï¼šæ–°ä¹¦ä»‹ç»ï¼šhttps://mml-book.com

- https://mml-book.com
- https://github.com/mml-book/mml-book.github.io
- PDF: https://mml-book.github.io/book/mml-book.pdf


# B833ï¼šç¿»è¯‘+é€‚å½“è¡¥å……ï¼štidytableï¼šRè¯­è¨€-åˆ¶ä½œæ¼‚äº®çš„è¡¨æ ¼

- Kazuharu Yanagimoto, 2024, Blog, A Gamechanger of Creating Tables in R: tinytable. [Link](https://kazuyanagimoto.com/blog/2024/04/29/)

åŠ¡å¿…è‡ªå·±å®æ“ä¸€ä¸‹ï¼Œç¡®ä¿è¯»è€…å¯ä»¥æ ¹æ®ä½ çš„ä»‹ç»æ­£ç¡®å®‰è£…ç›¸å…³ package å¹¶ä½¿ç”¨ã€‚

- ç¿»è¯‘è¿™ç¯‡æ¨æ–‡ã€‚å¯ä»¥é€‚å½“æ„è¯‘ï¼Œä»¥ä¾¿ç¬¦åˆä¸­æ–‡è¯»è€…çš„é˜…è¯»ä¹ æƒ¯ã€‚
- æ–‡ä¸­çš„ä»£ç åŠ¡å¿…è‡ªå·±æ‰§è¡Œä¸€ä¸‹ï¼Œé…Œæƒ…è¡¥å……å¿…è¦çš„å®‰è£…ä»£ç ï¼Œç¡®ä¿è¯»è€…å¯ä»¥å¤ç°ã€‚
- å¯ä»¥å€ŸåŠ© AI å·¥å…·è¿›è¡Œç¿»è¯‘ï¼Œè¯·åŠ¡å¿…è¿›è¡Œäººå·¥æ ¡å¯¹ä¸é€‚å½“æ”¹å†™ï¼Œé¿å…è¯­è¨€è¿‡äºæœºæ¢°ã€‚
- åœ¨å¼€å¤´éƒ¨åˆ†ï¼Œä»‹ç»ä¸€ä¸‹è¿™ç¯‡æ¨æ–‡çš„ä½œè€…å’ŒèƒŒæ™¯ã€‚

# B832ï¼šgithub Desktop ä½¿ç”¨æ–¹æ³•ä»‹ç»

å‚è€ƒå¦‚ä¸‹èµ„æ–™ï¼ŒåŠ¡å¿…è‡ªå·±å®æ“ä¸€ä¸‹ï¼Œç¡®ä¿è¯»è€…å¯ä»¥æ ¹æ®ä½ çš„ä»‹ç»æ­£ç¡®å®‰è£…ç›¸å…³è½¯ä»¶å¹¶ä½¿ç”¨ã€‚

- The Examples Book, [GitHub Desktop](https://the-examples-book.com/tools/git/github-desktop)
- [GitHub Desktop ğŸ–¥ï¸ for Windows: Installation & Getting Started](https://www.codearmo.com/blog/github-desktop-install-use-windows)

å…¶ä»–èµ„æ–™ï¼š

- [GitHub Desktop](https://desktop.github.com/)
- [GitHub Desktop - ç®€ä½“ä¸­æ–‡](https://desktop.github.com/zh-CN/)
- [Getting started with GitHub Desktop](https://docs.github.com/en/desktop/overview/getting-started-with-github-desktop)

å¯ä»¥è€ƒè™‘å½•åˆ¶ä¸€ä¸ªè§†é¢‘ï¼Œç®—ä½œç¬¬äºŒç¯‡æ¨æ–‡çš„å·¥ä½œé‡ã€‚


# B831ï¼šç¿»è¯‘+Python å®æ“ï¼šä»æ­£æ€åˆ†å¸ƒä¸­æŠ½æ ·

> Brian Keng, 2015, Blog, Sampling from a Normal Distribution. [Link](https://bjlkeng.io/posts/sampling-from-a-normal-distribution/), [ipynb](https://bjlkeng.io/posts/sampling-from-a-normal-distribution/index.ipynb)

https://bjlkeng.io/posts/sampling-from-a-normal-distribution/index.ipynb

- ç¿»è¯‘è¿™ç¯‡æ¨æ–‡ã€‚å¯ä»¥é€‚å½“æ„è¯‘ï¼Œä»¥ä¾¿ç¬¦åˆä¸­æ–‡è¯»è€…çš„é˜…è¯»ä¹ æƒ¯ã€‚
- æ–‡ä¸­çš„ä»£ç åŠ¡å¿…è‡ªå·±æ‰§è¡Œä¸€ä¸‹ï¼Œé…Œæƒ…è¡¥å……å¿…è¦çš„å®‰è£…ä»£ç ï¼Œç¡®ä¿è¯»è€…å¯ä»¥å¤ç°ã€‚
- å¯ä»¥å€ŸåŠ© AI å·¥å…·è¿›è¡Œç¿»è¯‘ï¼Œè¯·åŠ¡å¿…è¿›è¡Œäººå·¥æ ¡å¯¹ä¸é€‚å½“æ”¹å†™ï¼Œé¿å…è¯­è¨€è¿‡äºæœºæ¢°ã€‚
- åœ¨å¼€å¤´éƒ¨åˆ†ï¼Œä»‹ç»ä¸€ä¸‹è¿™ç¯‡æ¨æ–‡çš„ä½œè€…å’ŒèƒŒæ™¯ã€‚

# B830ï¼šç¿»è¯‘ + é€‚å½“è¡¥å……ï¼šBS å…¬å¼ä¸ Python æ¼”ç¤º

- [Pricing Derivatives Using Black-Scholes-Merton Model](https://mrislambd.github.io/statandprob/posts/optionprice/)

- ç¿»è¯‘è¿™ç¯‡æ¨æ–‡ã€‚å¯ä»¥é€‚å½“æ„è¯‘ï¼Œä»¥ä¾¿ç¬¦åˆä¸­æ–‡è¯»è€…çš„é˜…è¯»ä¹ æƒ¯ã€‚
- æ–‡ä¸­çš„ Python ä»£ç åŠ¡å¿…è‡ªå·±æ‰§è¡Œä¸€ä¸‹ï¼Œé…Œæƒ…è¡¥å……å¿…è¦çš„å®‰è£…ä»£ç ï¼Œç¡®ä¿è¯»è€…å¯ä»¥å¤ç°ã€‚
- å¯ä»¥å€ŸåŠ© AI å·¥å…·è¿›è¡Œç¿»è¯‘ï¼Œè¯·åŠ¡å¿…è¿›è¡Œäººå·¥æ ¡å¯¹ä¸é€‚å½“æ”¹å†™ï¼Œé¿å…è¯­è¨€è¿‡äºæœºæ¢°ã€‚
- åœ¨å¼€å¤´éƒ¨åˆ†ï¼Œä»‹ç»ä¸€ä¸‹è¿™ç¯‡æ¨æ–‡çš„ä½œè€…å’ŒèƒŒæ™¯ã€‚


# B829ï¼šç¿»è¯‘ + é€‚å½“è¡¥å……ï¼šå¤§æ•°å®šå¾‹ä¸ä¸­å¿ƒæé™å®šç†

- [Understanding Law of Large Numbers and Central Limit Theorem](https://mrislambd.github.io/statandprob/posts/lln/)


- ç¿»è¯‘è¿™ç¯‡æ¨æ–‡ã€‚å¯ä»¥é€‚å½“æ„è¯‘ï¼Œä»¥ä¾¿ç¬¦åˆä¸­æ–‡è¯»è€…çš„é˜…è¯»ä¹ æƒ¯ã€‚
- æ–‡ä¸­çš„ Python ä»£ç åŠ¡å¿…è‡ªå·±æ‰§è¡Œä¸€ä¸‹ï¼Œé…Œæƒ…è¡¥å……å¿…è¦çš„å®‰è£…ä»£ç ï¼Œç¡®ä¿è¯»è€…å¯ä»¥å¤ç°ã€‚
- å¯ä»¥å€ŸåŠ© AI å·¥å…·è¿›è¡Œç¿»è¯‘ï¼Œè¯·åŠ¡å¿…è¿›è¡Œäººå·¥æ ¡å¯¹ä¸é€‚å½“æ”¹å†™ï¼Œé¿å…è¯­è¨€è¿‡äºæœºæ¢°ã€‚
- åœ¨å¼€å¤´éƒ¨åˆ†ï¼Œä»‹ç»ä¸€ä¸‹è¿™ç¯‡æ¨æ–‡çš„ä½œè€…å’ŒèƒŒæ™¯ã€‚

# B828ï¼šå¤šå…ƒå›å½’åˆ†æ-Python å®ç°

- [å¤šå…ƒå›å½’åˆ†æ-Python å®ç°](https://mrislambd.github.io/dsandml/posts/multiplelinreg/)
  - OLS ç®€ä»‹
  - æ¢¯åº¦ä¸‹é™åŸç†å’Œ Python ä»£ç 

- ç¿»è¯‘è¿™ç¯‡æ¨æ–‡ã€‚å¯ä»¥é€‚å½“æ„è¯‘ï¼Œä»¥ä¾¿ç¬¦åˆä¸­æ–‡è¯»è€…çš„é˜…è¯»ä¹ æƒ¯ã€‚
- æ–‡ä¸­çš„ä»£ç åŠ¡å¿…è‡ªå·±æ‰§è¡Œä¸€ä¸‹ï¼Œé…Œæƒ…è¡¥å……å¿…è¦çš„å®‰è£…ä»£ç ï¼Œç¡®ä¿è¯»è€…å¯ä»¥å¤ç°ã€‚
- å¯ä»¥å€ŸåŠ© AI å·¥å…·è¿›è¡Œç¿»è¯‘ï¼Œè¯·åŠ¡å¿…è¿›è¡Œäººå·¥æ ¡å¯¹ä¸é€‚å½“æ”¹å†™ï¼Œé¿å…è¯­è¨€è¿‡äºæœºæ¢°ã€‚
- åœ¨å¼€å¤´éƒ¨åˆ†ï¼Œä»‹ç»ä¸€ä¸‹è¿™ç¯‡æ¨æ–‡çš„ä½œè€…å’ŒèƒŒæ™¯ã€‚


# B827ï¼šquartoç²¾ç®€ç‰ˆå¹»ç¯ç‰‡ï¼šæ”¯æŒ Rå’ŒPython ä»£ç åµŒå…¥å’Œæ‰§è¡Œ

[github-quarto-clean-typst](https://github.com/kazuyanagimoto/quarto-clean-typst), [-PDF-](https://kazuyanagimoto.com/quarto-clean-typst/template-full.pdf)

## ç®€ä»‹ï¼šQuarto-Clean-Typst Format

A minimalistic presentation theme for Quarto + Typst +Â [Touying](https://touying-typ.github.io/). Theme design is deeply inspired by Grant McDermott'sÂ [Clean theme](https://github.com/grantmcdermott/quarto-revealjs-clean)Â for Quarto + Reveal.js.

Click the image below to see a longÂ [demo](https://kazuyanagimoto.com/quarto-clean-typst/template-full.pdf). Code is availableÂ [here](https://github.com/kazuyanagimoto/quarto-clean-typst/blob/main/template-full.qmd).


## Install

If you would like to add the clean theme to an existing directory:

```r
quarto install extension kazuyanagimoto/quarto-clean-typst
```

or you can use a Quarto template that bundles a .qmd starter file:

```r
quarto use template kazuyanagimoto/quarto-clean-typst
```



# B826ï¼šç¿»è¯‘ + é€‚å½“è¡¥å……ï¼šå‡è®¾æ£€éªŒä¸ p å€¼

- [Hypothesis testing in quant finance](https://reasonabledeviations.com/2021/06/17/hypothesis-testing-quant/)

åœ¨æ­¤åŸºç¡€ä¸Šå†åŠ ä¸Š empirical p-value çš„ä»‹ç»ã€‚

- ç¿»è¯‘è¿™ç¯‡æ¨æ–‡ã€‚å¯ä»¥é€‚å½“æ„è¯‘ï¼Œä»¥ä¾¿ç¬¦åˆä¸­æ–‡è¯»è€…çš„é˜…è¯»ä¹ æƒ¯ã€‚
- æ–‡ä¸­çš„ä»£ç åŠ¡å¿…è‡ªå·±æ‰§è¡Œä¸€ä¸‹ï¼Œé…Œæƒ…è¡¥å……å¿…è¦çš„å®‰è£…ä»£ç ï¼Œç¡®ä¿è¯»è€…å¯ä»¥å¤ç°ã€‚
- å¯ä»¥å€ŸåŠ© AI å·¥å…·è¿›è¡Œç¿»è¯‘ï¼Œè¯·åŠ¡å¿…è¿›è¡Œäººå·¥æ ¡å¯¹ä¸é€‚å½“æ”¹å†™ï¼Œé¿å…è¯­è¨€è¿‡äºæœºæ¢°ã€‚
- åœ¨å¼€å¤´éƒ¨åˆ†ï¼Œä»‹ç»ä¸€ä¸‹è¿™ç¯‡æ¨æ–‡çš„ä½œè€…å’ŒèƒŒæ™¯ã€‚


# B825ï¼šç¿»è¯‘ + é€‚å½“è¡¥å……ï¼šå¦‚ä½•é˜…è¯»å“²å­¦ä¹¦ç±

- [probability-matching-brief-intro](https://naturalrationality.blogspot.com/2007/11/probability-matching-brief-intro.html)

- ç¿»è¯‘è¿™ç¯‡æ¨æ–‡ã€‚å¯ä»¥é€‚å½“æ„è¯‘ï¼Œä»¥ä¾¿ç¬¦åˆä¸­æ–‡è¯»è€…çš„é˜…è¯»ä¹ æƒ¯ã€‚
- å¯ä»¥å€ŸåŠ© AI å·¥å…·è¿›è¡Œç¿»è¯‘ï¼Œè¯·åŠ¡å¿…è¿›è¡Œäººå·¥æ ¡å¯¹ä¸é€‚å½“æ”¹å†™ï¼Œé¿å…è¯­è¨€è¿‡äºæœºæ¢°ã€‚
- åœ¨å¼€å¤´éƒ¨åˆ†ï¼Œä»‹ç»ä¸€ä¸‹è¿™ç¯‡æ¨æ–‡çš„ä½œè€…å’ŒèƒŒæ™¯ã€‚å¯ä»¥å‚è€ƒ [Reasonable Deviations](https://reasonabledeviations.com/) ç½‘ç«™çš„ä»‹ç»ï¼Œä¹Ÿå¯ä»¥æœç´¢ä½œè€…çš„ä¸ªäººä¸»é¡µã€‚

# B824ï¼šç¿»è¯‘ + é€‚å½“è¡¥å…… - æˆ‘æ˜¯å¦‚ä½•è¯»ä¹¦çš„

- [How I Read Books](https://reasonabledeviations.com/2022/01/24/reading-philosophy/)

- ç¿»è¯‘è¿™ç¯‡æ¨æ–‡ã€‚å¯ä»¥é€‚å½“æ„è¯‘ï¼Œä»¥ä¾¿ç¬¦åˆä¸­æ–‡è¯»è€…çš„é˜…è¯»ä¹ æƒ¯ã€‚
- å¯ä»¥å€ŸåŠ© AI å·¥å…·è¿›è¡Œç¿»è¯‘ï¼Œè¯·åŠ¡å¿…è¿›è¡Œäººå·¥æ ¡å¯¹ä¸é€‚å½“æ”¹å†™ï¼Œé¿å…è¯­è¨€è¿‡äºæœºæ¢°ã€‚
- åœ¨å¼€å¤´éƒ¨åˆ†ï¼Œä»‹ç»ä¸€ä¸‹è¿™ç¯‡æ¨æ–‡çš„ä½œè€…å’ŒèƒŒæ™¯ã€‚å¯ä»¥å‚è€ƒ [Reasonable Deviations](https://reasonabledeviations.com/) ç½‘ç«™çš„ä»‹ç»ï¼Œä¹Ÿå¯ä»¥æœç´¢ä½œè€…çš„ä¸ªäººä¸»é¡µã€‚


# B823ï¼šStata ç»˜å›¾ï¼šgraphfunctions å‘½ä»¤ - è‡ªç”±ç»˜åˆ¶åœ†å½¢ã€é¥¼å›¾ç­‰å›¾å½¢å…ƒç´ 

å†™ä¸€ç¯‡æ¨æ–‡ä»‹ç» `graphfunctions` å‘½ä»¤ã€‚

- github: <https://github.com/asjadnaqvi/stata-graphfunctions>ï¼Œä½œè€…åœ¨è¿™ä¸ªä»“åº“é‡Œæ”¾ç½®äº†å¾ˆå¤šç»˜å›¾å®ä¾‹ã€‚å¯ä»¥æ’å…¥æ¨æ–‡ä¸­ä»‹ç»ã€‚

é™¤äº†è¿™äº›ä¾‹å­ä¹‹å¤–ï¼Œå»ºè®®è‡ªå·±æ€è€ƒä¸€ä¸‹ï¼Œè¿™ä¸ªå‘½ä»¤å¯ä»¥å’Œé‚£äº›å‘½ä»¤ç»“åˆ ç»˜åˆ¶ä¸€äº›æœ‰ç”¨çš„å›¾å½¢ã€‚æ¯”å¦‚ï¼Œåˆ¶ä½œè¯¾ä»¶ï¼Œæ•°æ®å¯è§†åŒ–ç­‰ã€‚æˆ‘è®¤ä¸ºä½œè€…è‡ªå·±å‘ˆç°çš„ä¾‹å­éƒ½æ²¡æœ‰å®é™…åº”ç”¨ä»·å€¼ã€‚æ¯”å¦‚ï¼Œå¦‚ä¸‹ä»£ç ï¼š

```stata
shapes square, len(8) rotate(90) replace

twoway ///
	(area _y _x, nodropbase fcolor(%50))	///
	(scatter _y _x, mlab(_order))	///
		, ///
		legend(off) ///
		xlabel(-10(2)10) ylabel(-10(2)10) xsize(1) ysize(1) aspect(1)
```

![20241106225314](https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20241106225314.png)

å¯ä»¥ç”¨æ¥ç”Ÿæˆ [Stata ç»˜å›¾ï¼šå”¯ç¾çš„å‡½æ•°å›¾ - è‡ªå®šä¹‰æ°´å¹³é™„åŠ çº¿å’Œç«–ç›´é™„åŠ çº¿](https://www.lianxh.cn/details/1064.html) æ–‡ä¸­çš„å›¾ 6ã€‚

![](https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/function_addline_06.png)

<br>
<br>

## ç®€ä»‹


## å®‰è£…

## Installation

The package can be installed via SSC or GitHub. The GitHub version, *might* be more recent due to bug fixes, feature updates etc, and *may* contain syntax improvements and changes in *default* values. See version numbers below. Eventually the GitHub version is published on SSC.

SSC (**v1.4**):

```Stata 
ssc install graphfunctions, replace
```

GitHub (**v1.5**):

```Stata 
net install graphfunctions, from("https://raw.githubusercontent.com/asjadnaqvi/stata-graphfunctions/main/installation/") replace
```

See the help file `help graphfunctions` for details.

If you want to make a clean figure, then it is advisable to load a clean scheme, especially if you are not using newer Stata versions. My own setting is the following:

```Stata 
ssc install schemepack, replace
set scheme white_tableau  
graph set window fontface "Arial Narrow"
```



# B823ï¼šDDML-FE 

ä¸¤ç¯‡æ¨æ–‡çš„å·¥ä½œé‡

- Clarke, P. S., & Polselli, A. (2025). Double machine learning for static panel models with fixed effects. Econometrics Journal. [Link](https://doi.org/10.1093/ectj/utaf011), [PDF](http://sci-hub.ren/10.1093/ectj/utaf011), [Google](<https://scholar.google.com/scholar?q=Double machine learning for static panel models with fixed effects>). [-Appendix-](https://oup.silverchair-cdn.com/oup/backfile/Content_public/Journal/ectj/PAP/10.1093_ectj_utaf011/2/utaf011_online_appendix.pdf?Expires=1752824167&Signature=WKaiVKLA-00aEZIMO9vx3dhZZgTLCbcqvACdqBy02ZNA6Vqkn-jZ4rl68WMd6y91~Mt9CCPUxQG9RwIdOPMzEbmv4~6u3RNzF8ghXmXTSU8yPREyG4f61PV2SPSBmwbRullB7tjgCDJFz3pKyewAVdjrXcupZSlFjDbGXQWeZzSL87jh9ZYpTK7BfpglF9bHX3uTjxtfTM3mttuqL3ID7W6cWkL238ggg~e7oR1LwCnUaA5x7mtOSwqD3cmDWB4m9jN7Fov2G308VLwHTDPdF-SFqU~~uWWX-8Edf04uDFu67FfTj~-2frvalFBDOF~zysYlVw9rYzHMCoNW7ejvqg__&Key-Pair-Id=APKAIE5G5CRDK6RD3PGA),  [-Replication-](https://oup.silverchair-cdn.com/oup/backfile/Content_public/Journal/ectj/PAP/10.1093_ectj_utaf011/2/utaf011_replication_package_clarke_polselli.zip?Expires=1752824167&Signature=b9JFM59g8TeK1BrfE7-iqsJsuLLNwwwNtyYYxekBfIbm-ywodjDsGdHD8gnt8-Rzbk74zzXbo-9m2cb1iG2IUtkPdZwN1P-d4AWk11m6tQm6D9G529RMfLtf6RWqHpckGeiIJbBpeaGm8fYZ8Q-nbseMr0mRZDzBMPGGVx3Hqxrs-Fnki9JTf7RiO3B7thbh2h36r6CKEw67bIZhMDSbLTo10~Y~-6n5pbv-wss9r8X5IdjFGATQSFgqvBT4H2Xadl9JvidxaD9Jc2gnw67aptFhxNIuXn9JGcVKScn-QL7ZwCq8rMNvr6Wg92fTKl5GEpNp8yFPLKiOagFFKApjFQ__&Key-Pair-Id=APKAIE5G5CRDK6RD3PGA), 

## 3.2. Model and Assumptions

We extend the partially linear model proposed by Robinson (1988) to panel data by introducing a fixed effect $\alpha_i^*$ to give the partially linear panel regression (PLPR) model

$$
Y_{i t}=D_{i t} \theta_0+g_1\left(\boldsymbol{X}_{i t}\right)+\alpha_i^*+U_{i t}
$$

where $g_1$ is a non-linear nuisance function of $\boldsymbol{X}_{i t}$ and $E\left[U_{i t} \mid D_{i t}, \boldsymbol{X}_{i t}, \alpha_i^*\right]=0$, but $E\left[\alpha_i^* \mid D_{i t}, \boldsymbol{X}_{i t}\right] \neq 0$. The target parameter $\theta_0$ is the average partial effect of continuous $D_{i t}$ such that $d \theta_0=E\left[Y_{i t}(d)-Y_{i t}(0)\right]$, or the average treatment effect (ATE) $E\left[Y_{i t}(1)-Y_{i t}(0)\right]$ for binary treatments.

Following Chernozhukov et al. (2018), we focus on the partialled-out PLPR (PO-PLPR) model

$$
Y_{i t}=V_{i t} \theta_0+l_1\left(\boldsymbol{X}_{i t}\right)+\alpha_i+U_{i t}
$$


$$
V_{i t}=D_{i t}-m_1\left(\boldsymbol{X}_{i t}\right)-\gamma_i
$$

where $l_1$ and $m_1$ are nuisance functions, $\alpha_i$ is a fixed effect, $E\left[U_{i t} \mid V_{i t}, \boldsymbol{X}_{i t}, \alpha_i\right]=0$, and $V_{i t}$ is the residual of a non-linear additive noise treatment model, depending on fixed effect $\gamma_i$, and satisfying $E\left[V_{i t} \mid \boldsymbol{X}_{i t}, \gamma_i\right]=0$. The focus will be on the PO-PLPR rather than the PLPR model because, as shown below, $l_1$ is a conditional expectation over $Y_{i t}$ whereas $g_1$ is a conditional expectation over counterfactual $Y_{i t}(0)$ that must generally be learnt iteratively. Moreover, the orthogonalized score on which DML estimation of $\theta_0$ is based involves $V_{i t}$ whether it is derived under PLPR or PO-PLPR (see Section 5).

## å®ç°

[-Replication-](https://oup.silverchair-cdn.com/oup/backfile/Content_public/Journal/ectj/PAP/10.1093_ectj_utaf011/2/utaf011_replication_package_clarke_polselli.zip?Expires=1752824167&Signature=b9JFM59g8TeK1BrfE7-iqsJsuLLNwwwNtyYYxekBfIbm-ywodjDsGdHD8gnt8-Rzbk74zzXbo-9m2cb1iG2IUtkPdZwN1P-d4AWk11m6tQm6D9G529RMfLtf6RWqHpckGeiIJbBpeaGm8fYZ8Q-nbseMr0mRZDzBMPGGVx3Hqxrs-Fnki9JTf7RiO3B7thbh2h36r6CKEw67bIZhMDSbLTo10~Y~-6n5pbv-wss9r8X5IdjFGATQSFgqvBT4H2Xadl9JvidxaD9Jc2gnw67aptFhxNIuXn9JGcVKScn-QL7ZwCq8rMNvr6Wg92fTKl5GEpNp8yFPLKiOagFFKApjFQ__&Key-Pair-Id=APKAIE5G5CRDK6RD3PGA)

DML estimation is conducted inÂ rÂ using theÂ XTDMLÂ package in the replication package (or accessible in its latest version atÂ <https://github.com/POLSEAN/XTDML>Â at the time of writing) which is built onÂ DoubleMLÂ by Bach etÂ al. ([2024](javascript:;)).

## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)





# B822ï¼šç¿»è¯‘+é€‚å½“ä¿®æ”¹-å¼‚è´¨æ€§åˆ†æï¼š6 ç§æ–¹æ³•å¯¹æ¯”ä¸ R è¯­è¨€å®ç°

Bull, H., & Ketz, P. (2023). Lab 3: Estimating Heterogenous Treatment Effects. Semester 2, 2022/23. Retrieved from https://ml-in-econ.appspot.com/lab3.html

We discuss and implement 6 different methods to estimate heterogeneous treatment effects:

-   OLS with interaction terms
-   Post-selection Lasso
-   Causal Trees
-   Causal Forests

We compare the heterogeneity identified by each of these methods. We compare the CATE of each of these methods.

Finally, we compute the Best Linear Predictor (BLP) and the Sorted Group Average Treatment Effects (GATES).


# B821ï¼šè®ºæ–‡æ¨ä»‹å’Œå¤ç°ï¼šAbadie's Kappa å’ŒåŠ æƒå±€éƒ¨å¹³å‡å¤„ç†æ•ˆåº”ä¼°è®¡

è¿™æ˜¯ä¸¤ç¯‡æ¨æ–‡çš„å·¥ä½œé‡ã€‚

1. ç®€è¦ä»‹ç»è¯¥æ–‡çš„åŸºæœ¬æ€æƒ³ã€æ¨¡å‹å‡è®¾å’Œé€‚ç”¨æ¡ä»¶
2. ä»‹ç»æ¨¡å‹è®¾å®šå’Œä¼°è®¡æ€è·¯ (å¯ä»¥å¿½ç•¥æŠ€æœ¯ç»†èŠ‚å’Œè¯æ˜è¿‡ç¨‹ï¼Œä½†éœ€è¦å‘ˆç°æœ€æ ¸å¿ƒçš„æ¨¡å‹è®¾å®š)ã€‚è¿™äº›å·¥ä½œå¯ä»¥é€šè¿‡ AI è¾…åŠ©å®Œæˆï¼šæŠŠ PDF åŸæ–‡å‘ç»™ AIï¼Œè®©å®ƒæ’°å†™è¿™éƒ¨åˆ†å†…å®¹ã€‚æç¤ºè¯å†™æ³•å‚è§ [å¦‚ä½•å€ŸåŠ© AI å·¥å…·æ¥ä¼´è¯»ä¸€ç¯‡ç†è®ºç±»çš„è®ºæ–‡ï¼Ÿ](https://www.lianxh.cn/details/1571.html)
3. é‡ç‚¹ä»‹ç»è®ºæ–‡ Section 4 ä¸­å¤ç°çš„ä¸‰ç¯‡è®ºæ–‡ã€‚åŒ…æ‹¬
   - è®ºæ–‡çš„ç ”ç©¶é—®é¢˜å’Œæ•°æ®æ¥æº
   - è®ºæ–‡çš„ä¸»è¦ç»“è®ºå’Œè´¡çŒ®
   - æ¨¡å‹è®¾å®šçš„æ•°å­¦å…¬å¼å’Œå˜é‡ç•Œå®šç­‰
   - å¤ç°ä»£ç å±•ç¤ºï¼Œç»“æœå’Œåˆ†æ

> SÅ‚oczyÅ„ski, T., Uysal, S. D., & Wooldridge, J. M. (2024). Abadieâ€™s Kappa and Weighting Estimators of the Local Average Treatment Effect. Journal of Business & Economic Statistics, 43(1), 164â€“177. [Link](https://doi.org/10.1080/07350015.2024.2332763), [PDF](http://sci-hub.ren/10.1080/07350015.2024.2332763), [Google](<https://scholar.google.com/scholar?q=Abadieâ€™s Kappa and Weighting Estimators of the Local Average Treatment Effect>).
- [Replication files](https://doi.org/10.6084/m9.figshare.25438511.v2)
  - Stata codes and data for three papers. 
  - `card.dta`
  - `README.pdf`
  - `sipp.dta`
  - `suw_jbes_replicate.do`
  - `suw_jbes_significance.do`
  - `ae98.dta`


## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)

# B820ï¼šunitdidå‘½ä»¤çš„åŸç†å’Œåº”ç”¨

> Arkhangelsky, D., Yanagimoto, K., & Zohar, T. (2024). On Causal Inference with Model-Based Outcomes (Version 4). arXiv. [Link](https://doi.org/10.48550/arXiv.2403.19563) (rep), [PDF](https://arxiv.org/pdf/2403.19563.pdf), [Google](<https://scholar.google.com/scholar?q=On Causal Inference with Model-Based Outcomes (Version 4)>), [github](https://github.com/kazuyanagimoto/unitdid/)
  - æ›¾ç”¨å: Using Event Studies as an Outcome in Causal Analysis
  - åº”ç”¨: Arkhangelsky, D., Yanagimoto, K., & Zohar, T. (2024). On Causal Inference with Model-Based Outcomes (Version 4). arXiv. [Link](https://doi.org/10.48550/arXiv.2403.19563) (rep), [PDF](https://arxiv.org/pdf/2403.19563.pdf), [Google](<https://scholar.google.com/scholar?q=On Causal Inference with Model-Based Outcomes (Version 4)>). [unitdid](https://kazuyanagimoto.com/unitdid/), [github](https://github.com/kazuyanagimoto/unitdid/)

## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)


# B819ï¼šè®ºæ–‡æ¨ä»‹å’Œå¤ç°ï¼š

- å·¥ä½œé‡ï¼šè§†ä¸ºä¸¤ç¯‡æ¨æ–‡

> Heiler, P., & Knaus, M. C. (2025). Heterogeneity Analysis with Heterogeneous Treatments (Version 1). arXiv. [Link](https://doi.org/10.48550/arXiv.2507.01517) (rep), [PDF](https://arxiv.org/pdf/2507.01517.pdf), [Google](<https://scholar.google.com/scholar?q=Heterogeneity Analysis with Heterogeneous Treatments (Version 1)>). 

- [Supplementary R notebook](https://mcknaus.github.io/assets/code/RNB_HK2_decomposition.nb.html)Â andÂ [Docker Hub](https://hub.docker.com/repository/docker/mcknaus/hk2_decomposition/general)Â provide additional results and replication code. The method is available as part of theÂ [causalDML](https://github.com/MCKnaus/causalDML)Â R package.


## ç®€ä»‹

åœ¨å®è¯ç ”ç©¶ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸éœ€è¦è¯„ä¼°ä¸€é¡¹æ”¿ç­–æˆ–å¹²é¢„æªæ–½çš„æ•ˆæœï¼Œè€Œåˆ†æä¸åŒç¾¤ä½“ä¹‹é—´çš„â€œæ•ˆåº”å¼‚è´¨æ€§â€æ˜¯ä¸€ä¸ªæ ‡å‡†æ“ä½œã€‚ä½†è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼šæˆ‘ä»¬é€šå¸¸åˆ†æçš„â€œå¤„ç†æ•ˆåº”â€å…¶å®æ˜¯ä¸€ä¸ªâ€œå¤§æ‚çƒ©â€ã€‚æ¯”å¦‚ï¼Œä¸€é¡¹â€œèŒä¸šåŸ¹è®­â€å¯èƒ½åŒ…å«äº†å¾ˆå¤šä¸åŒçš„è¯¾ç¨‹æ¨¡å—ï¼Œæˆ–è€…å­¦å‘˜å‚ä¸çš„æ·±åº¦å’Œå¹¿åº¦ä¹Ÿå„ä¸ç›¸åŒã€‚è¿™äº›ç»†åˆ†çš„å¤„ç†æœ¬èº«å°±æ˜¯å¼‚è´¨çš„ã€‚

åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¦‚æœæˆ‘ä»¬è¿˜ç”¨ä¼ ç»Ÿçš„æ–¹æ³•ï¼ˆæ¯”å¦‚æ¯”è¾ƒä¸åŒç»„åˆ«è°ƒæ•´åçš„å‡å€¼å·®å¼‚ï¼‰æ¥åˆ†æï¼Œå°±å¾ˆå®¹æ˜“å¾—å‡ºè¯¯å¯¼æ€§çš„ç»“è®ºï¼Œç‰¹åˆ«æ˜¯å½“ä¸åŒç¾¤ä½“æ¥å—å…·ä½“å¤„ç†æªæ–½çš„å€¾å‘å­˜åœ¨ç³»ç»Ÿæ€§å·®å¼‚æ—¶ã€‚

ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæœ¬æ–‡æå‡ºäº†ä¸€ä¸ªæ–°çš„åˆ†è§£æ¡†æ¶ã€‚è¿™ä¸ªæ¡†æ¶èƒ½æ¸…æ™°åœ°å‰–æå‡ºæˆ‘ä»¬è§‚å¯Ÿåˆ°çš„ç»„é—´å·®å¼‚ï¼Œåˆ°åº•æœ‰å¤šå°‘æ˜¯æºäºâ€œæ•ˆåº”å¼‚è´¨æ€§â€ï¼ˆå³ç›¸åŒçš„å¤„ç†å¯¹ä¸åŒçš„äººæ•ˆæœä¸åŒï¼‰ï¼Œåˆæœ‰å¤šå°‘æ˜¯æºäºâ€œå¤„ç†å¼‚è´¨æ€§â€ï¼ˆå³ä¸åŒçš„äººæ¥å—äº†ä¸åŒçš„å¤„ç†ï¼‰ã€‚æˆ‘ä»¬ä¸ºæ­¤è®¾è®¡äº†åŠå‚æ•°çš„å»åæœºå™¨å­¦ä¹ ä¼°è®¡æ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•å³ä½¿åœ¨å¤„ç†æ–¹å¼å¤æ‚ã€ç»„é—´é‡å åº¦ä¸é«˜çš„æƒ…æ³ä¸‹ä¹ŸåŒæ ·ç¨³å¥ã€‚

æˆ‘ä»¬ç”¨è¿™ä¸ªæ–°æ¡†æ¶é‡æ–°å®¡è§†äº†ä¸€ä¸ªç»å…¸çš„æ¡ˆä¾‹ï¼šç§¯æåŠ³åŠ¨åŠ›å¸‚åœºæ”¿ç­–ä¸­ï¼ŒåŸ¹è®­å›æŠ¥å­˜åœ¨çš„æ€§åˆ«å·®å¼‚ã€‚åˆ†è§£ç»“æœä»¤äººæƒŠè®¶ï¼šæ‰€è°“çš„â€œæ€§åˆ«é¸¿æ²Ÿâ€å‡ ä¹å®Œå…¨æ˜¯ç”±äºå¥³æ€§å’Œç”·æ€§æ¥å—äº†ä¸åŒçš„åŸ¹è®­å†…å®¹ï¼Œè€Œä¸æ˜¯å› ä¸ºåŒæ ·çš„åŸ¹è®­å¯¹ç”·å¥³äº§ç”Ÿäº†ä¸åŒçš„å›æŠ¥ã€‚å…·ä½“æ¥è¯´ï¼Œå¥³æ€§è¢«æ›´å¤šåœ°å¼•å¯¼åˆ°é‚£äº›æœ¬èº«å›æŠ¥ç‡å°±æ¯”è¾ƒä½çš„èŒä¸šåŸ¹è®­é¡¹ç›®ä¸­å»äº†ã€‚

## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)


# B818ï¼šå¤ç°ä¸åº”ç”¨-æœºå™¨å­¦ä¹ ä¸å› æœæ¨æ–­

- Baiardi, A., & Naghi, A. A. (2024). The value added of machine learning to causal inference: evidence from revisited studies. The Econometrics Journal, 27(2), 213â€“234. [Link](https://doi.org/10.1093/ectj/utae004), [-PDF-](https://watermark.silverchair.com/utae004.pdf?token=AQECAHi208BE49Ooan9kkhW_Ercy7Dm3ZL_9Cf3qfKAc485ysgAAA0wwggNIBgkqhkiG9w0BBwagggM5MIIDNQIBADCCAy4GCSqGSIb3DQEHATAeBglghkgBZQMEAS4wEQQMZKPBTHbOj_k_VDOzAgEQgIIC_8BAJuG7iIAG6IKZmU_WIpg0lYkBjmlB4YBi8O109DsmDvyywCN8XNN5syPiTT-ODWuuS7kG3RnVcsaKGpd3F6PWfXGof3y4qRGPEXLmYgzHaXND9L8k0P-hm1BLgzsW-NSFYDoAPtX2BN_pjfcBtSU8ith6y-r4XB9sq9BMrFLxQOdh3UjXA30phX-k3Dw9I638hAKW-wH9MuGpq_pr0QuIpipNcmS4T8OfTSd9iLorzYuVg0clg-ql1OBx0OJMl9UP6U2SGQ87C03zxV0wMG71SOapsf9diSYVGZJ8d1cwCsPo2kIaLwtKahAp9dKOcUzdsmVhk8Xmxzznh1cWxfw6gI6A8msu_6tKSrLm2X6m78r7zhaCv4Zr-SqYLjANSQWOueWTd9ZVw8TRXTWncb8m-9UlWQJig1kZldOBnZM-CzGcQW63eDpD2keFuGzzsobPyY_vC5tVDKygfDd6SjROgKJx3vWjnDjYSfnsz4J31wU3isDMHQ0PIGziJhQ-mQZrC9QrLqgkby6gbW6akjiJAc6SLeovNThKlRtkY-NU1uGzHLKne7lo2YLf_XKZr4SOQQfuPqNNKRKy3PQhr_Jwd8xWvNtT-wcFS8z4J2EPYEjVxRvbfT9qS0uNnhfJ3p-ew6pDRTcHJCh-v5bywaeBgZuSebyaT1Xgs5jNt6XcwdL3-UnL5zaq1wwaI9BUh7P2K452p5IuCBViUzCGR9tQFV-LzFRYjmf0DhBTugnwqPhSqNRKJrC7SUVZGjwPfibhO_Nmo-gmpb4os0nzhnYfw-TkwAAfYYdthIAw54oq3gsK4l_wygJ1JQ2g7mXUJPhkqVulX9mku4ks7tUBgBrJcHH1vbvs3lGWy-in3iHZel1_9WCt3LqyekczyZNElEqe0re5d5PMWX-Ad0127qw_Rctc_QhVAnaojKD2SrmvmGjeEJcH3M_JLFAW66Ch7Id3klo4t1zaODIYmCxVNiYzncSC5coHL5v-L78W9mh66opEENeNMiZmahUMf6Gf), [PDF-wps](https://papers.tinbergen.nl/21001.pdf), [Google](<https://scholar.google.com/scholar?q=The value added of machine learning to causal inference: evidence from revisited studies>).
  - [-Appendix-](https://oup.silverchair-cdn.com/oup/backfile/Content_public/Journal/ectj/27/2/10.1093_ectj_utae004/1/utae004_online_appendix.pdf?Expires=1752831230&Signature=INLwGecCD8eE256MvLEbADNBC4edPX2XKmfLcsfRp0i~4ix6FTCFwFwhFGBt0euN3jvfqiLKpc19kCTtTpNl0Lw9s86Nx09dN0IJEbGHhGb2~WvyvWpxOgqqhNd15wGB0n~FRpU7orOHGl4gB3grfo4RjwGsqTIolT4OIZiVqKEHqFJfnb8AqErUuBrO9Y5wgf8AjF3ngkdFhGWjFBtgVoV0okqYmkQjVtACqMF9Nb07zjqJod9YsLKWon-NASDLfFcEZyz5BC1OgbWP2zxHv-5F67BEXwwJgdnAALrg774VIcwEjrw0SyNJcfkiZC8RzgQpujSI8w1tY7DRn2WdcA__&Key-Pair-Id=APKAIE5G5CRDK6RD3PGA), æä¾›äº†æ–‡ä¸­çš„å…¬å¼å’Œæ¨¡å‹è®¾å®šå…¬å¼ç­‰å†…å®¹ã€‚
  - [-Replication-](https://oup.silverchair-cdn.com/oup/backfile/Content_public/Journal/ectj/27/2/10.1093_ectj_utae004/1/utae004_replication_files.zip?Expires=1752831230&Signature=OorVYyIbynMNU1cIFUk-c-teed1HQWQqF6mSCLCqaZOqTaIFvXONrbRW25tPtetqPAKivd8Pe0paTAijclbTj62lJ72CLqOE0L1oT-Y3MBJzs~qhQDvrhJGHUIPYIfXPHJ8NtL9McpJwlJW31f~AWgEeh7TSim-BQL-o9aj9Uk4BDDCmnncEgWy0fZD7AgmMhPiBGb3hSu0pxYI12qpo-VVPv348iGHR9IK5VDdexYxWIu7uSMpz1O20IakOtzMYeDBhrg5KdDsrQOvMtqu-gg38qymOewNd~Gu8-5qLE4vNGC9swF7g-lxiWcwQa1dIhX2gcQpDyo71GaGz2JtiMQ__&Key-Pair-Id=APKAIE5G5CRDK6RD3PGA)ï¼ŒR codes 


## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)




# B817ï¼šæ¦‚ç‡åŒ¹é…ä¸ Kelly ç­–ç•¥ï¼šä»åŒ—æç‹ç”Ÿå­˜åˆ°æŠ•èµ„å†³ç­–çš„æ¦‚ç‡æ€æƒ³

> åŸæ–‡ï¼š<https://reasonabledeviations.com/2022/01/10/probability-matching-kelly/>

æˆ‘ç”¨ ChatGPT å†™äº†ä¸€ä¸ªç‰ˆæœ¬ï¼Œå‚è§ [ChatGPT å¯¹è¯è¿‡ç¨‹](https://chatgpt.com/c/684a20e7-19cc-8005-b1ca-8eb20d29afed)ã€‚

ä½ åœ¨æˆ‘æ’°å†™çš„åˆç¨¿ ([ç‚¹å‡»æŸ¥çœ‹](https://github.com/arlionn/lianxhta/blob/main/sample/B817-Probability-Matching-and-Kelly-Criterion.md)) åŸºç¡€ä¸Šä¿®æ”¹å®Œå–„å³å¯ã€‚å¾…å®Œå–„ï¼š

- è¿è¡Œæ¨æ–‡åˆç¨¿ä¸­çš„ Python ä»£ç ï¼Œç”Ÿæˆå›¾å½¢ï¼Œæ’å…¥æ¨æ–‡ã€‚å¹¶ä½¿ç”¨ä»£ç å—å°† Python ä»£ç åµŒå…¥æ¨æ–‡ã€‚å½“ç„¶ï¼Œè¿˜éœ€è¦åœ¨æ¨æ–‡ä¸­è§£é‡Šç”Ÿæˆå›¾å½¢çš„æ€è·¯å’Œæ–¹æ³•ã€‚
- ä¿®æ”¹ã€æ¶¦è‰²å…¨æ–‡çš„ä¸­æ–‡è¡¨è¿°ï¼Œå»é™¤æœºå™¨ç¿»è¯‘çš„ç—•è¿¹ï¼Œç¡®ä¿è¯­è¨€æµç•…è‡ªç„¶ã€‚



# B816ï¼šè®ºæ–‡å¤ç°ï¼šIV+PSM

TÃ¼bbicke, S. (2023). When to use matching and weighting or regression in instrumental variable estimation? Evidence from college proximity and returns to college. Empirical Economics, 65(6), 2979â€“2999. [Link](https://doi.org/10.1007/s00181-023-02441-7), [PDF](https://link.springer.com/content/pdf/10.1007/s00181-023-02441-7.pdf), [Google](<https://scholar.google.com/scholar?q=When to use matching and weighting or regression in instrumental variable estimation? Evidence from college proximity and returns to college>). 
- Replication - Stata dofiles and R codes
  - [Supplementary Material 1](https://static-content.springer.com/esm/art%3A10.1007%2Fs00181-023-02441-7/MediaObjects/181_2023_2441_MOESM1_ESM.do)
  - [Supplementary Material 2](https://static-content.springer.com/esm/art%3A10.1007%2Fs00181-023-02441-7/MediaObjects/181_2023_2441_MOESM2_ESM.r)
  - [Supplementary Material 3](https://static-content.springer.com/esm/art%3A10.1007%2Fs00181-023-02441-7/MediaObjects/181_2023_2441_MOESM3_ESM.do)

- Standard two-stage least squares (2SLS) regression remains dominant in instrumental variables estimation of causal effects even though the literature has shown that 2SLS may be inconsistent when effects are heterogenous and the instrument is only valid when conditioning on covariates. To show that this is not merely a hypothetical threat, this paper re-estimates the returns to college using college proximity as an instrument based on the data from Card (Aspects of labour market behavior: essays in honour of John Vanderkamp, University of Toronto Press, Toronto, 1995). The results show that 2SLS yields systematically larger estimates of the returns to college than more flexible estimators based on the instrument propensity score. In the full sample, differences amount to about 50 to 100%. This is due to the implicit conditional-variance weighting performed by 2SLS. Moreover, in line with the theoretical prediction by Sloczynski (When should we (not) interpret linear IV estimands as LATE? IZA discussion papers 14349, Institute of Labor Economics (IZA), 2021), findings suggest that the impact of the conditional-variance weighting is larger when instrument groups are not roughly the same size. Thus, it is advised to use 2SLS with caution and use estimators based on the instrument propensity score instead when groups are of different size and covariates are predictive of the instrument.
- By re-examining the Card ([1995](https://link.springer.com/article/10.1007/s00181-023-02441-7#ref-CR11 "Card D (1995) Using geographic variation in college proximity to estimate the return to schooling. In: Christophides LN, Grant EK, Swidinsky R (eds) Aspects of labour market behavior: essays in Honour of John Vanderkamp. University of Toronto Press, Toronto, pp 201--222")) data on college proximity and the returns to college, this paper shows that potential inconsistencies in 2SLS estimates of local treatment effects documented in the theoretical literature are not merely a hypothetical threat when effects are heterogenous. For the data at hand, 2SLS yields systematically larger effects than more flexible estimators based on the PS with differences amounting to roughly 50 to 100%. It is shown that this is because standard linear-in-covariates 2SLS yields a conditional variance-weighted average effect, putting more weight on units with a PS close to a coin flip. In line with theoretical predictions by Sloczynski ([2021](https://link.springer.com/article/10.1007/s00181-023-02441-7#ref-CR31 "Sloczynski T (2021) When should we (not) interpret linear IV estimands as LATE? IZA discussion papers 14349, Institute of Labor Economics (IZA)")), the results suggest that 2SLS estimates can be expected to be more trustworthy when sample shares of instrument groups are roughly of equal size. Moreover, the paper shows that this is because the effects of conditional-variance weighting tend to be less severe when groups sizes are similar. Overall, the results show that the presumption that 2SLS yields point estimates close to more flexible estimators based on the PS as argued by Angrist and Pischke ([2008](https://link.springer.com/article/10.1007/s00181-023-02441-7#ref-CR5 "Angrist JD, Pischke JS (2008) Mostly harmless econometrics. Princeton UUniversity Press, Princeton")) does not apply in general and that one should be suspicious of 2SLS estimates when group sizes differ substantially and covariates are predictive of the instrument. In that case it may be best to use semi- or non-parametric estimation techniques instead. At the very least, one should use these methods to assess the sensitivity of estimates regarding implicit parametric assumptions made when using linear-in-covariates 2SLS.

## Tips

è®ºæ–‡å¤ç°ç±»æ¨æ–‡å†™ä½œæŒ‡å—å‚è§ [è¿äº«ä¼šÂ·åŠ©æ•™ç­”ç–‘å’Œæ¨æ–‡æŒ‡å—](https://file.lianxh.cn/KC/lianxh_TA_Guide.pdf)ï¼Œç¬¬ 5 èŠ‚ã€‚

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œå€ŸåŠ© AI å®Œæˆä¸€éƒ¨åˆ†å†…å®¹ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)






# B815ï¼šè®ºæ–‡æ¨ä»‹ï¼šIV ç»¼è¿°

- Borusyak, K., Hull, P., & Jaravel, X. (2024). Design-based identification with formula instruments: a review. The Econometrics Journal, 28(1), 83â€“108. [Link](https://doi.org/10.1093/ectj/utae003), [HTML](https://academic.oup.com/ectj/article/28/1/83/7590835#507807770), [PDF](https://academic.oup.com/ectj/article-pdf/28/1/83/56662602/utae003.pdf), [-PDF2-](https://core.ac.uk/download/pdf/612327444.pdf), [Google](<https://scholar.google.com/scholar?q=Design-based identification with formula instruments: a review>).

å¯ä»¥å‚è€ƒ B813 çš„åˆç¨¿ç”Ÿæˆè¿‡ç¨‹ï¼Œä½¿ç”¨ AI æ’°å†™æ¨æ–‡åˆç¨¿ã€‚

- [B813-è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))
- [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md)

# B814ï¼šsimpletexï¼šæ„Ÿè§‰æ¯”Mathpixè¿˜å¥½ç”¨ï¼

å†™ä¸€ç¯‡æ¨æ–‡ï¼Œä»‹ç» [simpletex](https://simpletex.cn) çš„ä½¿ç”¨æ–¹æ³•ã€‚å°½é‡è¦†ç›– [simpletex.cn](https://simpletex.cn/) ä¸­ä»‹ç»çš„ä¸»è¦å†…å®¹ã€‚ 

åŒ…æ‹¬ï¼š
- ç®€ä»‹
- å®‰è£…ä½¿ç”¨æ–¹æ³•
  - åœ¨çº¿ä½¿ç”¨
  - æœ¬åœ°ç”µè„‘ç«¯
  - æ‰‹æœºç«¯
  - â€¦â€¦
- è¾“å‡ºæ ¼å¼ï¼šWord å’Œ Markdown 
- ä½œä¸ºWord/PowerPoint æ’ä»¶

ç›¸å…³æ¨æ–‡ï¼š

  - è¿å°ç™½, 2025, [å®Œç¾æ›¿ä»£ MathPixï¼šæˆ‘ç”¨ ChatGPTã€è±†åŒ…ã€Kimi è¯†åˆ«æ•°å­¦å…¬å¼](https://www.lianxh.cn/details/1639.html), è¿äº«ä¼š No.1639.
  - è¿ç‰å›, 2020, [ç¥å™¨-æ•°å­¦å…¬å¼è¯†åˆ«å·¥å…·-mathpix](https://www.lianxh.cn/details/284.html), è¿äº«ä¼š No.284.


# B813ï¼šè®ºæ–‡æ¨ä»‹ï¼šæ¸è¿›DIDçš„äº”ç§ä¼°è®¡æ–¹æ³•å¯¹æ¯”

&#x1F34E;  !! è¯·åœ¨æˆ‘ç”Ÿæˆçš„ [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md) åŸºç¡€ä¸Šä¿®æ”¹å®Œå–„ï¼Œå½¢æˆæœ¬æ¨æ–‡çš„æœ€ç»ˆç¨¿ã€‚

> Wing, C., Yozwiak, M., Hollingsworth, A., Freedman, S., & Simon, K. (2024). Designing Difference-in-Difference Studies with Staggered Treatment Adoption: Key Concepts and Practical Guidelines. Annual Review of Public Health, 45(1), 485â€“505. [Link](https://doi.org/10.1146/annurev-publhealth-061022-050825), [PDF](https://www.annualreviews.org/docserver/fulltext/publhealth/45/1/annurev-publhealth-061022-050825.pdf?expires=1752678753&id=id&accname=guest&checksum=345B1C3C23D23EC0D6A9B385A91F2513), [Google](<https://scholar.google.com/scholar?q=Designing Difference-in-Difference Studies with Staggered Treatment Adoption: Key Concepts and Practical Guidelines>), [github-replication](https://github.com/hollina/arph-did-example)

æˆ‘ç”¨è±†åŒ…ç”Ÿæˆæ¨æ–‡çš„åˆç¨¿ ([è±†åŒ…å¯¹è¯è¿‡ç¨‹](https://www.doubao.com/thread/w8e524bfc59a644e2))ã€‚ä½ å¯ä»¥åœ¨ [B813-åˆç¨¿](https://github.com/arlionn/lianxhta/blob/main/sample/B813-Stragged-DID.md) åŸºç¡€ä¸Šç»§ç»­å®Œå–„ã€‚æ¯”å¦‚ï¼š

1. æŠŠåŸæ–‡ä¸­çš„å›¾ç‰‡æ’å…¥è¿›æ¥ï¼Œå¢å¼ºæ¨æ–‡çš„å¯è¯»æ€§ï¼›
2. è®© AI å¸®åŠ©æ•´ç†æ–‡ä¸­ Table 1 æåˆ°çš„å„ç§æ–¹æ³•çš„ Stata, R, Python å®ç°å‘½ä»¤å’Œ packagesï¼›
3. ä½¿ç”¨ `lianxh` å‘½ä»¤å°†è¿äº«ä¼šæ­¤å‰å‘å¸ƒçš„ç›¸å…³æ¨æ–‡ä¸ Section 4 ä¸­ä»‹ç»çš„å…­ç§æ–¹æ³•å¯¹åº”èµ·æ¥ï¼Œä¾›è¯»è€…äº†è§£ç»†èŠ‚ã€‚
4. å¢åŠ ä¸€ä¸ª Sectionï¼Œä»‹ç»ä½œè€…æä¾›çš„ github ä»“åº“ä¸­çš„ä»£ç å’Œæ•°æ®ï¼Œå¦‚ä½•è¿è¡Œï¼Œå¦‚ä½•å¤ç°ç»“æœç­‰ã€‚ 


# B812ï¼šè®ºæ–‡æ¨ä»‹ï¼šå…ƒå­¦ä¹ 

- Salditt, M., Eckes, T., & Nestler, S. (2023). A Tutorial Introduction to Heterogeneous Treatment Effect Estimation with Meta-learners. Administration and Policy in Mental Health and Mental Health Services Research, 51(5), 650â€“673. [Link](https://doi.org/10.1007/s10488-023-01303-9), [PDF](https://link.springer.com/content/pdf/10.1007/s10488-023-01303-9.pdf), [Google](<https://scholar.google.com/scholar?q=A Tutorial Introduction to Heterogeneous Treatment Effect Estimation with Meta-learners>).


# B811ï¼šmvttestï¼šIVä¼°è®¡çš„æ’ä»–æ€§æ£€éªŒ

- Andresen, M. E., & Huber, M. (2021). Instrument-based estimation with binarised treatments: issues and tests for the exclusion restriction. **The Econometrics Journal**, 24(3), 536â€“558. [Link](https://doi.org/10.1093/ectj/utab002), [PDF](https://folia.unifr.ch/documents/330276/files/instrument-basedestimationwithbinarisedtreatments_econometricsjournal.pdf?download), [Google](<https://scholar.google.com/scholar?q=Instrument-based estimation with binarised treatments: issues and tests for the exclusion restriction>). [-Replication-](https://oup.silverchair-cdn.com/oup/backfile/Content_public/Journal/ectj/24/3/10.1093_ectj_utab002/1/utab002_replication_package.zip?Expires=1752829828&Signature=A6cZ0DV54dSC0U98GVpbobbLj8sz-aLC5ORmak7THBBGYpBks7HBinjIIerICOV0ttSYLCqkPs6Om60~yYwhWQOXX6HpX6gjHK4blLtQS42kXWBOvGtC1tXIsT0QcKMmooIdSzWfrgdVL4aNXl13AiL8W-JRbnQRYxXp3CqouKGdpfyc2umxiU3kLQEN1gGLmBifU-7QA4gzajU6jhZnXUHb~1OVBrvckGOCtXiKo9SohY5ejfjaCoXycRh06CIsTL~xxTn44--jLwGr5NCnPAC8lkQtwTsB5D1LgNSKNLPWMKFRZywFEZe4frC1l9auYUboz~K4juvGfOPy3-B5RA__&Key-Pair-Id=APKAIE5G5CRDK6RD3PGA) (åŒ…å«ä¸¤ç¯‡è®ºæ–‡çš„å¤ç°è¿‡ç¨‹) 
- Stata command: `mvtest`
  - [github](https://github.com/martin-andresen/mvttest)

## ç®€ä»‹

## ç†è®ºåŸºç¡€

## Stata å®æ“

### å®‰è£…

ç›®å‰ï¼Œåªèƒ½é€šè¿‡ä½œè€…çš„ [github ä»“åº“](https://github.com/martin-andresen/mvttest) å®‰è£… `mvttest` å‘½ä»¤ï¼š

```stata
net install mvttest, from("https://raw.githubusercontent.com/martin-andresen/mvttest/master")
```



# B810ï¼šPython æ˜æ˜ŸåŒ…ï¼šPyPortfolioOpt-æŠ•èµ„ç»„åˆä¼˜åŒ–åˆ†æ

å†™ä¸€ç¯‡æ¨æ–‡ï¼Œä»‹ç» `PyPortfolioOpt` åŒ…çš„ç”¨æ³•ã€‚
- éœ€è¦é˜…è¯»æ‰‹å†Œå’Œç›¸å…³èµ„æ–™ï¼Œè¡¥å……ç†è®ºéƒ¨åˆ†
- å»ºè®®é¢„å…ˆå†™ä¸€ä¸ª `.ipynb` æ–‡ä»¶ï¼Œè®²ä¹‰æ ¼å¼ï¼Œå†…åµŒ Python ä»£ç å’Œç»“æœè§£è¯»ã€‚(Python ç¯å¢ƒé…ç½®ï¼Œå‚è§ [Pythonï¼šå®‰è£…å’Œç¯å¢ƒé…ç½®](https://book.lianxh.cn/ds/body/01_1_install-Python-Anocanda.html))ã€‚ä»¥æ­¤ä¸ºåŸºç¡€åœ¨æ’°å†™æ¨æ–‡ï¼Œæ•ˆç‡ä¼šé«˜å¾ˆå¤šã€‚å‘å¸ƒæ¨æ–‡æ—¶ï¼Œ`.ipynb` æ–‡ä»¶å¯ä»¥æ”¾åœ¨æ¨æ–‡çš„é™„ä»¶ä¸­ã€‚
- ä¸¾ä¾‹æ—¶ï¼Œå¯¹äºä¸­å›½ä¸Šå¸‚å…¬å¸ï¼Œå¯ä»¥ç”¨ `akshare` åŒ…è·å–è‚¡ç¥¨æ•°æ®ï¼›å¯¹äºç¾è‚¡ï¼Œå¯ä»¥ä½¿ç”¨ `yfinance` åŒ…è·å–è‚¡ç¥¨æ•°æ®ã€‚
  - [cookbook](https://github.com/robertmartin8/PyPortfolioOpt/tree/master/cookbook)
  - é‡Œé¢æ”¾ç½®äº†å‡ ä¸ªå…¸å‹çš„ `.ipynb` æ–‡ä»¶ï¼Œå±•ç¤ºäº†å¦‚ä½•ä½¿ç”¨ `PyPortfolioOpt` åŒ…è¿›è¡ŒæŠ•èµ„ç»„åˆä¼˜åŒ–åˆ†æã€‚ 

## å‚è€ƒèµ„æ–™

- [PyPortfolioOpt ä¸»é¡µ](https://pyportfolioopt.readthedocs.io/en/latest/index.html)
  - [github]()
  - [ä½œè€…çš„ blog](https://reasonabledeviations.com/2020/03/19/rebuilding-pyportfolioopt/)

![](https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250612081459.png)

![20250612082027](https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250612082027.png)

> Source: [PyPortfolioOpt - Plot](https://pyportfolioopt.readthedocs.io/en/latest/Plotting.html)

![20250612082117](https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250612082117.png)

> Source: [PyPortfolioOpt - Plot](https://pyportfolioopt.readthedocs.io/en/latest/Plotting.html)




# B809ï¼šStata å¯è§†åŒ–ï¼šheatplot-çƒ­åŠ›å›¾

å†™ä¸€ç¯‡æ¨æ–‡ï¼Œä»‹ç» `heatplot` å‘½ä»¤çš„ç”¨æ³•ã€‚ä¸»è¦å‚è€ƒèµ„æ–™å¦‚ä¸‹ï¼š

- Ben Jann, 2019, [Heat (and hexagon) plots in Stata](https://www.stata.com/meeting/germany19/slides/germany19_Jann.pdf)

## ç®€ä»‹

Stata æ¨¡å— `heatplot` ç”¨äºç»˜åˆ¶çƒ­åŠ›å›¾å’Œå…­è¾¹å½¢çƒ­åŠ›å›¾ã€‚

`heatplot` å¯ä»¥åŸºäºå˜é‡æˆ–çŸ©é˜µç”Ÿæˆçƒ­åŠ›å›¾ã€‚å¸¸è§ç”¨æ³•åŒ…æ‹¬ï¼šå°† X å’Œ Y ä¸¤ä¸ªå˜é‡åˆ†ç®±åï¼Œç»Ÿè®¡æ¯ä¸ªç»„åˆå‡ºç°çš„é¢‘ç‡ï¼Œå¹¶ç”¨é¢œè‰²æ·±æµ…æ¥è¡¨ç¤ºï¼ˆå³äºŒç»´ç›´æ–¹å›¾ï¼‰ï¼›ä¹Ÿå¯ä»¥åœ¨ X å’Œ Y çš„åˆ†ç®±æ ¼ç‚¹ä¸Šï¼Œç”¨é¢œè‰²æ¢¯åº¦å±•ç¤ºç¬¬ä¸‰ä¸ªå˜é‡ Z çš„å¹³å‡å€¼ï¼Œå®ç°ä¸‰å…ƒåˆ†å¸ƒçš„å¯è§†åŒ–ã€‚æ­¤å¤–ï¼Œè¿˜å¯ä»¥ç›´æ¥ç”¨é¢œè‰²æ¢¯åº¦å±•ç¤ºçŸ©é˜µå†…å®¹ï¼Œæ¯”å¦‚ç›¸å…³ç³»æ•°çŸ©é˜µæˆ–ç©ºé—´æƒé‡çŸ©é˜µç­‰ã€‚

## å®‰è£…æ–¹æ³•

`heatplot` æ˜¯ Stata ä¸­ç”¨äºç»˜åˆ¶çƒ­åŠ›å›¾çš„å¼ºå¤§å·¥å…·ã€‚æ¨èé€šè¿‡ SSC å®‰è£…ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š

```stata
ssc install heatplot, replace
```

è¯¥å‘½ä»¤ä¾èµ–äº `palettes` åŒ…ï¼ˆç”¨äºé…è‰²æ–¹æ¡ˆï¼‰ä»¥åŠ `colrspace` åŒ…ï¼ˆStata 14.2 åŠä»¥ä¸Šç‰ˆæœ¬æ”¯æŒé¢œè‰²ç©ºé—´ç®¡ç†ï¼‰ã€‚è¯·å…ˆå®‰è£…è¿™ä¸¤ä¸ªä¾èµ–ï¼š

```stata
ssc install palettes, replace
ssc install colrspace, replace
```

å¦‚æœä½ å¸Œæœ›ä½¿ç”¨ `heatplot` çš„ `fast` é€‰é¡¹ï¼ˆåŠ é€Ÿå¤§æ•°æ®å¤„ç†ï¼‰ï¼Œè¿˜éœ€å®‰è£… `gtools` åŒ…ï¼š

```stata
ssc install gtools, replace
gtools, upgrade
```

æ­¤å¤–ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä» GitHub è·å–æœ€æ–°ç‰ˆï¼ˆå¯èƒ½åŒ…å«æœ€æ–°åŠŸèƒ½å’Œä¿®å¤ï¼‰ï¼š

```stata
net install heatplot, replace from(https://raw.githubusercontent.com/benjann/heatplot/master/)
```

å®‰è£…å®Œæˆåï¼Œå³å¯åœ¨ Stata ä¸­ä½¿ç”¨ `heatplot` è¿›è¡Œçƒ­åŠ›å›¾ç»˜åˆ¶ã€‚

## Stata å®æ“

> å†™ä½œè¯´æ˜ï¼š

æ‰§è¡Œ Ben Jann, 2019, [Heat (and hexagon) plots in Stata](https://www.stata.com/meeting/germany19/slides/germany19_Jann.pdf) ä¸­çš„ä¾‹å­ï¼Œé…ä¸Šè¯´æ˜æ–‡å­—ã€‚

å›¾å½¢æ¨¡æ¿ï¼š`set scheme cleanplots`

### åŸºæœ¬ç”¨æ³•

ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ Stata å®æ“ç¤ºä¾‹ï¼Œæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ `heatplot` ç»˜åˆ¶çƒ­åŠ›å›¾ï¼š

```stata
. webuse nhanes2, clear
. heatplot weight height
``` 

![](https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250708092845.png)

### é™„åŠ å…¶ä»–å›¾å½¢

```stata
hexplot weight height, statistic(count) color(plasma) ///
        cut(1(5)@max) keylabels(, range(1)) size ///
        addplot(lpolyci weight height, degree(1) psty(p2) lw(*1.5) ac(%50) alc(%0))
```

![](https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250708093036.png)


# 809ï¼šStata å¯è§†åŒ–ï¼špheatplot-å›¾ç¤ºç³»æ•°çš„æ˜¾è‘—æ€§

å†™ä¸€ç¯‡æ¨æ–‡ï¼Œä»‹ç»è¿™ä¸ªå‘½ä»¤çš„ç”¨æ³•ã€‚

![](https://fig-lianxh.oss-cn-shenzhen.aliyuncs.com/20250611232839.png)


## å‚è€ƒèµ„æ–™

å¯ä»¥ç¿»è¯‘ + æ„è¯‘ + é€‚å½“ä¿®æ”¹å’Œæ•´åˆå¦‚ä¸‹èµ„æ–™ï¼Œå¾—åˆ°æœ€ç»ˆçš„æ¨æ–‡æ–‡æœ¬ã€‚å»ºè®®å€ŸåŠ© AI å·¥å…·æ¥å®Œæˆã€‚ 

- [How to make heatplot in Stata | Correlation Heat plot](https://www.youtube.com/watch?v=PMo8NovkBFc&pp=0gcJCdgAo7VqN5tD)


### How To Make Heatplot In Stata | Correlation Heat Plot

[How to make heatplot in Stata | Correlation Heat plot](https://thedatahall.com/how-to-make-heatplot-in-stata-correlation-heat-plot/)

## å®‰è£…

```stata
net install gr0099.pkg, all replace 
```

æ‰§è¡Œä¸Šè¿°å‘½ä»¤åï¼Œå¦‚ä¸‹ä¸¤ä»½æ–‡ä»¶ä¼šè‡ªåŠ¨ä¸‹è½½åˆ°å½“å‰å·¥ä½œè·¯å¾„ä¸‹ï¼š

```raw
online_supplement.pdf
pheatplot-examples.do
```

ä½ å¯ä»¥ä½¿ç”¨ `shellout online_supplement.pdf` å‘½ä»¤æ‰“å¼€ `online_supplement.pdf` æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œ `clickout` å‘½ä»¤ï¼Œä»¥ä¾¿åœ¨å±å¹•ä¸Šå‘ˆç°ä¸Šè¿°æ–‡ä»¶ã€‚



